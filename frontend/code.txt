// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\hooks\useAuth.ts =====
import { create } from 'zustand'
import { persist } from 'zustand/middleware'
import api from '../services/api'

interface User {
  id: number
  username: string
  email: string
  full_name?: string
  is_active: boolean
  created_at: string
}

interface AuthState {
  user: User | null
  token: string | null
  isAuthenticated: boolean
  isLoading: boolean
  error: string | null

  login: (username: string, password: string) => Promise<void>
  register: (data: RegisterData) => Promise<void>
  logout: () => Promise<void>
  fetchProfile: () => Promise<void>
  clearError: () => void
  setLoading: (loading: boolean) => void
}

interface RegisterData {
  username: string
  email: string
  password: string
  full_name?: string
}

export const useAuthStore = create<AuthState>()(
  persist(
    (set, get) => ({
      user: null,
      token: null,
      isAuthenticated: false,
      isLoading: false,
      error: null,

      login: async (username, password) => {
        set({ isLoading: true, error: null })
        try {
          const formData = new FormData()
          formData.append('username', username)
          formData.append('password', password)

          const response = await api.post('/auth/login', formData, {
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          })

          const { access_token } = response.data
          localStorage.setItem('token', access_token)

          set({ token: access_token, isAuthenticated: true, isLoading: false })
          await get().fetchProfile()
        } catch (err: any) {
          const message = err.response?.data?.detail || 'Login failed. Please try again.'
          set({ error: message, isLoading: false })
          throw new Error(message)
        }
      },

      register: async (data) => {
        set({ isLoading: true, error: null })
        try {
          await api.post('/auth/register', data)
          await get().login(data.username, data.password)
        } catch (err: any) {
          const message = err.response?.data?.detail || 'Registration failed. Please try again.'
          set({ error: message, isLoading: false })
          throw new Error(message)
        }
      },

      logout: async () => {
        set({ isLoading: true })
        try {
          await api.post('/auth/logout').catch(() => {})
        } finally {
          localStorage.removeItem('token')
          set({
            user: null,
            token: null,
            isAuthenticated: false,
            isLoading: false,
            error: null,
          })
        }
      },

      fetchProfile: async () => {
        try {
          const response = await api.get('/auth/me')
          set({ user: response.data, isAuthenticated: true })
        } catch (err: any) {
          if (err.response?.status === 401) {
            localStorage.removeItem('token')
            set({ user: null, token: null, isAuthenticated: false })
          }
        }
      },

      clearError: () => set({ error: null }),
      setLoading: (loading) => set({ isLoading: loading }),
    }),
    {
      name: 'auth-storage',
      partialize: (state) => ({
        token: state.token,
        isAuthenticated: state.isAuthenticated,
        user: state.user,
      }),
    }
  )
)


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\hooks\useClipboard.ts =====
import { useState, useCallback } from 'react'
import toast from 'react-hot-toast'

export function useClipboard(resetDelay = 2000) {
  const [copied, setCopied] = useState(false)

  const copy = useCallback(async (text: string, message?: string) => {
    if (!text) {
      toast.error('Nothing to copy')
      return false
    }

    try {
      if (navigator.clipboard && window.isSecureContext) {
        await navigator.clipboard.writeText(text)
      } else {
        // Fallback for older browsers
        const textarea = document.createElement('textarea')
        textarea.value = text
        textarea.style.cssText = 'position:fixed;left:-9999px;top:-9999px;opacity:0'
        document.body.appendChild(textarea)
        textarea.focus()
        textarea.select()
        document.execCommand('copy')
        document.body.removeChild(textarea)
      }

      setCopied(true)
      toast.success(message || 'Copied to clipboard!')

      setTimeout(() => setCopied(false), resetDelay)
      return true
    } catch {
      toast.error('Failed to copy. Please copy manually.')
      return false
    }
  }, [resetDelay])

  return { copied, copy }
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\hooks\useConversion.ts =====
import { useState, useCallback } from 'react'
import api from '../services/api'
import toast from 'react-hot-toast'

interface ConversionResult {
  braille?: string
  text?: string
  unicode?: string
  dots?: string
  confidence?: number
  processing_time?: number
  character_count?: number
  word_count?: number
}

interface ConversionState {
  result: ConversionResult | null
  isLoading: boolean
  error: string | null
  progress: number
}

export function useTextToBraille() {
  const [state, setState] = useState<ConversionState>({
    result: null,
    isLoading: false,
    error: null,
    progress: 0,
  })

  const convert = useCallback(async (text: string, options?: {
    grade?: 1 | 2
    language?: string
    include_dots?: boolean
  }) => {
    if (!text.trim()) {
      toast.error('Please enter some text to convert')
      return
    }

    setState(prev => ({ ...prev, isLoading: true, error: null, progress: 0 }))

    // Simulate progress
    const progressInterval = setInterval(() => {
      setState(prev => ({
        ...prev,
        progress: Math.min(prev.progress + 10, 85)
      }))
    }, 150)

    try {
      const response = await api.post('/convert/text-to-braille', {
        text: text.trim(),
        grade: options?.grade || 1,
        language: options?.language || 'en',
        include_dots: options?.include_dots ?? true,
      })

      clearInterval(progressInterval)
      setState({
        result: response.data,
        isLoading: false,
        error: null,
        progress: 100,
      })

      toast.success('Conversion successful!')
      return response.data
    } catch (err: any) {
      clearInterval(progressInterval)
      const message = err.response?.data?.detail || 'Conversion failed. Please try again.'
      setState(prev => ({ ...prev, isLoading: false, error: message, progress: 0 }))
      toast.error(message)
      throw err
    }
  }, [])

  const reset = useCallback(() => {
    setState({ result: null, isLoading: false, error: null, progress: 0 })
  }, [])

  return { ...state, convert, reset }
}

export function useImageToBraille() {
  const [state, setState] = useState<ConversionState>({
    result: null,
    isLoading: false,
    error: null,
    progress: 0,
  })

  const convert = useCallback(async (file: File, options?: {
    grade?: 1 | 2
    enhance?: boolean
  }) => {
    if (!file) {
      toast.error('Please select an image file')
      return
    }

    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif']
    if (!allowedTypes.includes(file.type)) {
      toast.error('Unsupported file format. Please use JPG, PNG, WebP, or GIF.')
      return
    }

    if (file.size > 10 * 1024 * 1024) {
      toast.error('File too large. Max 10MB allowed.')
      return
    }

    setState(prev => ({ ...prev, isLoading: true, error: null, progress: 0 }))

    const progressInterval = setInterval(() => {
      setState(prev => ({
        ...prev,
        progress: Math.min(prev.progress + 5, 80)
      }))
    }, 200)

    try {
      const formData = new FormData()
      formData.append('file', file)
      if (options?.grade) formData.append('grade', String(options.grade))
      if (options?.enhance !== undefined) formData.append('enhance', String(options.enhance))

      const response = await api.post('/convert/image-to-braille', formData, {
        headers: { 'Content-Type': 'multipart/form-data' },
        onUploadProgress: (e) => {
          if (e.total) {
            const percent = Math.round((e.loaded * 50) / e.total)
            setState(prev => ({ ...prev, progress: percent }))
          }
        }
      })

      clearInterval(progressInterval)
      setState({
        result: response.data,
        isLoading: false,
        error: null,
        progress: 100,
      })

      toast.success('Image converted successfully!')
      return response.data
    } catch (err: any) {
      clearInterval(progressInterval)
      const message = err.response?.data?.detail || 'Image conversion failed.'
      setState(prev => ({ ...prev, isLoading: false, error: message, progress: 0 }))
      toast.error(message)
      throw err
    }
  }, [])

  const reset = useCallback(() => {
    setState({ result: null, isLoading: false, error: null, progress: 0 })
  }, [])

  return { ...state, convert, reset }
}

export function useBrailleToText() {
  const [state, setState] = useState<ConversionState>({
    result: null,
    isLoading: false,
    error: null,
    progress: 0,
  })

  const convert = useCallback(async (braille: string, options?: {
    grade?: 1 | 2
    language?: string
  }) => {
    if (!braille.trim()) {
      toast.error('Please enter Braille to convert')
      return
    }

    setState(prev => ({ ...prev, isLoading: true, error: null, progress: 0 }))

    const progressInterval = setInterval(() => {
      setState(prev => ({
        ...prev,
        progress: Math.min(prev.progress + 15, 85)
      }))
    }, 100)

    try {
      const response = await api.post('/convert/braille-to-text', {
        braille: braille.trim(),
        grade: options?.grade || 1,
        language: options?.language || 'en',
      })

      clearInterval(progressInterval)
      setState({
        result: response.data,
        isLoading: false,
        error: null,
        progress: 100,
      })

      toast.success('Braille decoded successfully!')
      return response.data
    } catch (err: any) {
      clearInterval(progressInterval)
      const message = err.response?.data?.detail || 'Braille decoding failed.'
      setState(prev => ({ ...prev, isLoading: false, error: message, progress: 0 }))
      toast.error(message)
      throw err
    }
  }, [])

  const reset = useCallback(() => {
    setState({ result: null, isLoading: false, error: null, progress: 0 })
  }, [])

  return { ...state, convert, reset }
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\hooks\useDebounce.ts =====
import { useState, useEffect } from 'react'

export function useDebounce<T>(value: T, delay: number = 500): T {
  const [debouncedValue, setDebouncedValue] = useState<T>(value)

  useEffect(() => {
    const timer = setTimeout(() => setDebouncedValue(value), delay)
    return () => clearTimeout(timer)
  }, [value, delay])

  return debouncedValue
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\hooks\useHistory.ts =====
import { useState, useCallback, useEffect } from 'react'
import api from '../services/api'
import toast from 'react-hot-toast'
import { useAuthStore } from './useAuth'

interface HistoryItem {
  id: number
  conversion_type: 'text_to_braille' | 'image_to_braille' | 'braille_to_text'
  input_text?: string
  output_text?: string
  braille_output?: string
  created_at: string
  processing_time?: number
  is_favorite?: boolean
}

interface HistoryState {
  items: HistoryItem[]
  isLoading: boolean
  error: string | null
  total: number
  page: number
  hasMore: boolean
}

export function useHistory() {
  const { isAuthenticated } = useAuthStore()
  const [state, setState] = useState<HistoryState>({
    items: [],
    isLoading: false,
    error: null,
    total: 0,
    page: 1,
    hasMore: false,
  })

  const fetchHistory = useCallback(async (page = 1, limit = 10) => {
    if (!isAuthenticated) return

    setState(prev => ({ ...prev, isLoading: true, error: null }))
    try {
      const response = await api.get('/history', {
        params: { page, limit }
      })

      const { items, total } = response.data
      setState(prev => ({
        ...prev,
        items: page === 1 ? items : [...prev.items, ...items],
        total,
        page,
        hasMore: page * limit < total,
        isLoading: false,
      }))
    } catch (err: any) {
      const message = err.response?.data?.detail || 'Failed to fetch history'
      setState(prev => ({ ...prev, isLoading: false, error: message }))
    }
  }, [isAuthenticated])

  const loadMore = useCallback(() => {
    fetchHistory(state.page + 1)
  }, [fetchHistory, state.page])

  const deleteItem = useCallback(async (id: number) => {
    try {
      await api.delete(`/history/${id}`)
      setState(prev => ({
        ...prev,
        items: prev.items.filter(item => item.id !== id),
        total: prev.total - 1,
      }))
      toast.success('History item deleted')
    } catch {
      toast.error('Failed to delete history item')
    }
  }, [])

  const clearAll = useCallback(async () => {
    try {
      await api.delete('/history/clear')
      setState(prev => ({ ...prev, items: [], total: 0 }))
      toast.success('History cleared')
    } catch {
      toast.error('Failed to clear history')
    }
  }, [])

  const toggleFavorite = useCallback(async (id: number) => {
    try {
      await api.patch(`/history/${id}/favorite`)
      setState(prev => ({
        ...prev,
        items: prev.items.map(item =>
          item.id === id ? { ...item, is_favorite: !item.is_favorite } : item
        )
      }))
    } catch {
      toast.error('Failed to update favorite')
    }
  }, [])

  useEffect(() => {
    if (isAuthenticated) fetchHistory()
  }, [isAuthenticated, fetchHistory])

  return {
    ...state,
    fetchHistory,
    loadMore,
    deleteItem,
    clearAll,
    toggleFavorite,
  }
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\hooks\useLocalStorage.ts =====
import { useState, useEffect, useCallback } from 'react'

export function useLocalStorage<T>(key: string, initialValue: T) {
  const [storedValue, setStoredValue] = useState<T>(() => {
    try {
      const item = window.localStorage.getItem(key)
      return item ? JSON.parse(item) : initialValue
    } catch {
      return initialValue
    }
  })

  const setValue = useCallback((value: T | ((val: T) => T)) => {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value
      setStoredValue(valueToStore)
      window.localStorage.setItem(key, JSON.stringify(valueToStore))
    } catch (err) {
      console.error(`Error saving to localStorage key "${key}":`, err)
    }
  }, [key, storedValue])

  const removeValue = useCallback(() => {
    try {
      window.localStorage.removeItem(key)
      setStoredValue(initialValue)
    } catch (err) {
      console.error(`Error removing localStorage key "${key}":`, err)
    }
  }, [key, initialValue])

  // Sync across tabs
  useEffect(() => {
    const handler = (e: StorageEvent) => {
      if (e.key === key && e.newValue !== null) {
        try {
          setStoredValue(JSON.parse(e.newValue))
        } catch {}
      }
    }
    window.addEventListener('storage', handler)
    return () => window.removeEventListener('storage', handler)
  }, [key])

  return [storedValue, setValue, removeValue] as const
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\services\api.ts =====
import axios from 'axios'

const api = axios.create({
  baseURL: import.meta.env.VITE_API_URL || 'http://localhost:8000/api/v1',
  timeout: 30000,
  headers: {
    'Content-Type': 'application/json',
  },
})

// Request interceptor â€” attach token
api.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('token')
    if (token) {
      config.headers.Authorization = `Bearer ${token}`
    }
    return config
  },
  (error) => Promise.reject(error)
)

// Response interceptor â€” handle 401
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      localStorage.removeItem('token')
      if (!window.location.pathname.includes('/login')) {
        window.location.href = '/login'
      }
    }
    return Promise.reject(error)
  }
)

export default api


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\types\index.ts =====
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Auth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export interface User {
  id: number
  username: string
  email: string
  full_name?: string
  is_active: boolean
  is_superuser?: boolean
  created_at: string
  updated_at?: string
}

export interface LoginRequest {
  username: string
  password: string
}

export interface RegisterRequest {
  username: string
  email: string
  password: string
  full_name?: string
}

export interface AuthResponse {
  access_token: string
  token_type: 'bearer'
  expires_in?: number
}

export interface ChangePasswordRequest {
  current_password: string
  new_password: string
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Conversion â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export type ConversionType =
  | 'text_to_braille'
  | 'image_to_braille'
  | 'braille_to_text'

export type BrailleGrade = 1 | 2

export type SupportedLanguage = 'en' | 'es' | 'fr' | 'de' | 'ar'

export interface TextToBrailleRequest {
  text: string
  grade?: BrailleGrade
  language?: SupportedLanguage
  include_dots?: boolean
}

export interface BrailleToTextRequest {
  braille: string
  grade?: BrailleGrade
  language?: SupportedLanguage
}

export interface ConversionResult {
  braille?: string
  text?: string
  unicode?: string
  dots?: string
  confidence?: number
  processing_time?: number
  character_count?: number
  word_count?: number
  grade?: BrailleGrade
  language?: SupportedLanguage
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ History â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export interface HistoryItem {
  id: number
  user_id: number
  conversion_type: ConversionType
  input_text?: string
  output_text?: string
  braille_output?: string
  image_url?: string
  processing_time?: number
  is_favorite: boolean
  grade?: BrailleGrade
  language?: SupportedLanguage
  created_at: string
  updated_at?: string
}

export interface PaginatedResponse<T> {
  items: T[]
  total: number
  page: number
  limit: number
  pages: number
}

export interface HistoryFilters {
  type?: ConversionType
  favorites?: boolean
  search?: string
  page?: number
  limit?: number
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Accessibility â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export interface AccessibilitySettings {
  highContrast: boolean
  fontSize: number
  screenReaderEnabled: boolean
  keyboardNavigationEnabled: boolean
  reducedMotion: boolean
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export interface ApiError {
  detail: string
  status_code?: number
  type?: string
}

export interface ApiResponse<T> {
  data: T
  message?: string
  success: boolean
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ UI Components â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export interface SelectOption {
  label: string
  value: string | number
}

export interface TableColumn<T> {
  key: keyof T
  label: string
  sortable?: boolean
  render?: (value: T[keyof T], row: T) => React.ReactNode
}

export interface ModalProps {
  isOpen: boolean
  onClose: () => void
  title?: string
  children: React.ReactNode
  size?: 'sm' | 'md' | 'lg' | 'xl'
}

export interface ToastOptions {
  type: 'success' | 'error' | 'warning' | 'info'
  message: string
  duration?: number
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Stats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export interface UserStats {
  total_conversions: number
  text_to_braille_count: number
  image_to_braille_count: number
  braille_to_text_count: number
  favorites_count: number
  this_week_count: number
  avg_processing_time: number
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export interface NavItem {
  label: string
  href: string
  icon?: React.ComponentType<{ size?: number; className?: string }>
  requiresAuth?: boolean
  badge?: string
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ File Upload â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export interface UploadedFile {
  file: File
  preview: string
  size: number
  type: string
  name: string
}

export type AllowedImageType = 'image/jpeg' | 'image/jpg' | 'image/png' | 'image/webp' | 'image/gif'

export const ALLOWED_IMAGE_TYPES: AllowedImageType[] = [
  'image/jpeg',
  'image/jpg',
  'image/png',
  'image/webp',
  'image/gif',
]

export const MAX_FILE_SIZE_MB = 10
export const MAX_FILE_SIZE_BYTES = MAX_FILE_SIZE_MB * 1024 * 1024


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\utils\index.ts =====
import { type ClassValue, clsx } from 'clsx'
import { ALLOWED_IMAGE_TYPES, MAX_FILE_SIZE_BYTES, type AllowedImageType } from '../types'

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Class Names â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function cn(...inputs: ClassValue[]): string {
  return clsx(inputs)
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ String Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function truncate(str: string, maxLength: number): string {
  if (str.length <= maxLength) return str
  return str.slice(0, maxLength - 3) + '...'
}

export function capitalize(str: string): string {
  if (!str) return ''
  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase()
}

export function slugify(str: string): string {
  return str
    .toLowerCase()
    .trim()
    .replace(/[^\w\s-]/g, '')
    .replace(/[\s_-]+/g, '-')
    .replace(/^-+|-+$/g, '')
}

export function countWords(text: string): number {
  return text.trim().split(/\s+/).filter(Boolean).length
}

export function countChars(text: string): number {
  return text.length
}

export function isValidEmail(email: string): boolean {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)
}

export function isValidUsername(username: string): boolean {
  return /^[a-zA-Z0-9_]{3,30}$/.test(username)
}

export function isStrongPassword(password: string): boolean {
  return (
    password.length >= 8 &&
    /[A-Z]/.test(password) &&
    /[0-9]/.test(password)
  )
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Date Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function formatDate(dateStr: string, options?: Intl.DateTimeFormatOptions): string {
  return new Date(dateStr).toLocaleDateString('en-US', options || {
    year: 'numeric', month: 'short', day: 'numeric',
  })
}

export function formatDateTime(dateStr: string): string {
  return new Date(dateStr).toLocaleDateString('en-US', {
    year: 'numeric', month: 'short', day: 'numeric',
    hour: '2-digit', minute: '2-digit',
  })
}

export function timeAgo(dateStr: string): string {
  const seconds = Math.floor((Date.now() - new Date(dateStr).getTime()) / 1000)
  const intervals: [number, string][] = [
    [31536000, 'year'],
    [2592000, 'month'],
    [86400, 'day'],
    [3600, 'hour'],
    [60, 'minute'],
  ]
  for (const [secs, label] of intervals) {
    const count = Math.floor(seconds / secs)
    if (count >= 1) return `${count} ${label}${count > 1 ? 's' : ''} ago`
  }
  return 'just now'
}

export function isThisWeek(dateStr: string): boolean {
  const d = new Date(dateStr)
  const week = new Date()
  week.setDate(week.getDate() - 7)
  return d > week
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Number Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function formatFileSize(bytes: number): string {
  if (bytes === 0) return '0 B'
  const k = 1024
  const sizes = ['B', 'KB', 'MB', 'GB']
  const i = Math.floor(Math.log(bytes) / Math.log(k))
  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(1))} ${sizes[i]}`
}

export function formatProcessingTime(seconds: number): string {
  if (seconds < 1) return `${Math.round(seconds * 1000)}ms`
  return `${seconds.toFixed(2)}s`
}

export function clamp(value: number, min: number, max: number): number {
  return Math.min(Math.max(value, min), max)
}

export function formatPercent(value: number, decimals = 1): string {
  return `${(value * 100).toFixed(decimals)}%`
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ File Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function validateImageFile(file: File): { valid: boolean; error?: string } {
  if (!ALLOWED_IMAGE_TYPES.includes(file.type as AllowedImageType)) {
    return { valid: false, error: 'Unsupported file type. Please use JPG, PNG, WebP, or GIF.' }
  }
  if (file.size > MAX_FILE_SIZE_BYTES) {
    return { valid: false, error: `File too large. Maximum size is ${MAX_FILE_SIZE_BYTES / 1024 / 1024}MB.` }
  }
  return { valid: true }
}

export function getFileExtension(filename: string): string {
  return filename.split('.').pop()?.toLowerCase() || ''
}

export function createObjectURL(file: File): string {
  return URL.createObjectURL(file)
}

export function revokeObjectURL(url: string): void {
  URL.revokeObjectURL(url)
}

export function readFileAsDataURL(file: File): Promise<string> {
  return new Promise((resolve, reject) => {
    const reader = new FileReader()
    reader.onload = e => resolve(e.target?.result as string)
    reader.onerror = reject
    reader.readAsDataURL(file)
  })
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Download Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function downloadText(content: string, filename: string): void {
  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' })
  const url = URL.createObjectURL(blob)
  const a = document.createElement('a')
  a.href = url
  a.download = filename
  document.body.appendChild(a)
  a.click()
  document.body.removeChild(a)
  URL.revokeObjectURL(url)
}

export function downloadJSON(data: object, filename: string): void {
  const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' })
  const url = URL.createObjectURL(blob)
  const a = document.createElement('a')
  a.href = url
  a.download = filename
  a.click()
  URL.revokeObjectURL(url)
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Braille Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function isBrailleUnicode(char: string): boolean {
  const code = char.charCodeAt(0)
  return code >= 0x2800 && code <= 0x28FF
}

export function containsBraille(text: string): boolean {
  return [...text].some(isBrailleUnicode)
}

export function countBrailleChars(text: string): number {
  return [...text].filter(isBrailleUnicode).length
}

export function stripNonBraille(text: string): string {
  return [...text].filter(c => isBrailleUnicode(c) || c === ' ' || c === '\n').join('')
}

export const BRAILLE_UNICODE_RANGE = { start: 0x2800, end: 0x28FF }

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Clipboard Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export async function copyToClipboard(text: string): Promise<boolean> {
  try {
    if (navigator.clipboard && window.isSecureContext) {
      await navigator.clipboard.writeText(text)
      return true
    }
    const el = document.createElement('textarea')
    el.value = text
    el.style.cssText = 'position:fixed;left:-9999px;top:-9999px;opacity:0'
    document.body.appendChild(el)
    el.focus()
    el.select()
    const success = document.execCommand('copy')
    document.body.removeChild(el)
    return success
  } catch {
    return false
  }
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Object Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function omit<T extends object, K extends keyof T>(obj: T, keys: K[]): Omit<T, K> {
  const result = { ...obj }
  keys.forEach(k => delete result[k])
  return result
}

export function pick<T extends object, K extends keyof T>(obj: T, keys: K[]): Pick<T, K> {
  const result = {} as Pick<T, K>
  keys.forEach(k => { result[k] = obj[k] })
  return result
}

export function deepMerge<T extends object>(target: T, source: Partial<T>): T {
  const result = { ...target }
  for (const key in source) {
    const val = source[key]
    if (val && typeof val === 'object' && !Array.isArray(val)) {
      result[key] = deepMerge(result[key] as object, val as object) as T[typeof key]
    } else if (val !== undefined) {
      result[key] = val as T[typeof key]
    }
  }
  return result
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Array Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function groupBy<T>(arr: T[], key: keyof T): Record<string, T[]> {
  return arr.reduce((acc, item) => {
    const group = String(item[key])
    acc[group] = acc[group] || []
    acc[group].push(item)
    return acc
  }, {} as Record<string, T[]>)
}

export function unique<T>(arr: T[]): T[] {
  return [...new Set(arr)]
}

export function sortByDate<T>(arr: T[], key: keyof T, order: 'asc' | 'desc' = 'desc'): T[] {
  return [...arr].sort((a, b) => {
    const da = new Date(String(a[key])).getTime()
    const db = new Date(String(b[key])).getTime()
    return order === 'desc' ? db - da : da - db
  })
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Storage Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export const storage = {
  get<T>(key: string, fallback?: T): T | undefined {
    try {
      const item = localStorage.getItem(key)
      return item ? JSON.parse(item) : fallback
    } catch { return fallback }
  },
  set<T>(key: string, value: T): void {
    try { localStorage.setItem(key, JSON.stringify(value)) } catch {}
  },
  remove(key: string): void {
    try { localStorage.removeItem(key) } catch {}
  },
  clear(): void {
    try { localStorage.clear() } catch {}
  },
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Async Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export function sleep(ms: number): Promise<void> {
  return new Promise(resolve => setTimeout(resolve, ms))
}

export async function retry<T>(fn: () => Promise<T>, retries = 3, delay = 500): Promise<T> {
  try {
    return await fn()
  } catch (err) {
    if (retries === 0) throw err
    await sleep(delay)
    return retry(fn, retries - 1, delay * 2)
  }
}

export function debounce<T extends (...args: any[]) => void>(fn: T, delay: number) {
  let timer: ReturnType<typeof setTimeout>
  return (...args: Parameters<T>) => {
    clearTimeout(timer)
    timer = setTimeout(() => fn(...args), delay)
  }
}

export function throttle<T extends (...args: any[]) => void>(fn: T, limit: number) {
  let lastCall = 0
  return (...args: Parameters<T>) => {
    const now = Date.now()
    if (now - lastCall >= limit) {
      lastCall = now
      fn(...args)
    }
  }
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\App.tsx =====
import React from "react";
import { BrowserRouter as Router, Routes, Route, Navigate } from "react-router-dom";
import { AccessibilityProvider } from "./context/AccessibilityContext";
import ErrorBoundary from "./components/ErrorBoundary";
import Navbar from "./components/Navbar";
import Sidebar from "./components/Sidebar";
import Footer from "./components/Footer";
import AccessibilityPanel from "./components/AccessibilityPanel";

// Pages
import Home from "./pages/Home";
import Login from "./pages/Login";
import Register from "./pages/Register";
import Dashboard from "./pages/Dashboard";
import TextToBraille from "./pages/TextToBraille";
import BrailleToText from "./pages/BrailleToText";
import ImageToBraille from "./pages/ImageToBraille";
import History from "./pages/History";
import Profile from "./pages/Profile";
import NotFound from "./pages/NotFound";

// Hooks
import { useAuth } from "./hooks/useAuth";

// Styles
import "./App.css";

// Protected Route Component
const ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const { isAuthenticated, isLoading } = useAuth();

  if (isLoading) {
    return (
      <div className="loading-spinner">
        <div className="spinner"></div>
      </div>
    );
  }

  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }

  return <>{children}</>;
};

// Public Route Component
const PublicRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const { isAuthenticated, isLoading } = useAuth();

  if (isLoading) {
    return (
      <div className="loading-spinner">
        <div className="spinner"></div>
      </div>
    );
  }

  if (isAuthenticated) {
    return <Navigate to="/dashboard" replace />;
  }

  return <>{children}</>;
};

// Main Layout
const MainLayout: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  return (
    <div className="app-container">
      <Navbar />
      <div className="main-wrapper">
        <Sidebar />
        <main className="page-content">
          {children}
        </main>
      </div>
      <Footer />
      <AccessibilityPanel />
    </div>
  );
};

// Auth Layout
const AuthLayout: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  return (
    <div style={{
      minHeight: '100vh',
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      background: 'linear-gradient(135deg, #0a1a2e 0%, #16213e 100%)'
    }}>
      {children}
    </div>
  );
};

const AppRoutes: React.FC = () => {
  return (
    <Routes>
      {/* Public Home */}
      <Route path="/" element={<MainLayout><Home /></MainLayout>} />

      {/* Auth Routes */}
      <Route
        path="/login"
        element={
          <PublicRoute>
            <AuthLayout><Login /></AuthLayout>
          </PublicRoute>
        }
      />
      <Route
        path="/register"
        element={
          <PublicRoute>
            <AuthLayout><Register /></AuthLayout>
          </PublicRoute>
        }
      />

      {/* Protected Routes */}
      <Route
        path="/dashboard"
        element={<ProtectedRoute><MainLayout><Dashboard /></MainLayout></ProtectedRoute>}
      />
      <Route
        path="/text-to-braille"
        element={<ProtectedRoute><MainLayout><TextToBraille /></MainLayout></ProtectedRoute>}
      />
      <Route
        path="/braille-to-text"
        element={<ProtectedRoute><MainLayout><BrailleToText /></MainLayout></ProtectedRoute>}
      />
      <Route
        path="/image-to-braille"
        element={<ProtectedRoute><MainLayout><ImageToBraille /></MainLayout></ProtectedRoute>}
      />
      <Route
        path="/history"
        element={<ProtectedRoute><MainLayout><History /></MainLayout></ProtectedRoute>}
      />
      <Route
        path="/profile"
        element={<ProtectedRoute><MainLayout><Profile /></MainLayout></ProtectedRoute>}
      />

      {/* 404 */}
      <Route path="*" element={<NotFound />} />
    </Routes>
  );
};

const App: React.FC = () => {
  return (
    <ErrorBoundary>
      <AccessibilityProvider>
        <Router>
          <AppRoutes />
        </Router>
      </AccessibilityProvider>
    </ErrorBoundary>
  );
};

export default App;


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\main.tsx =====
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.tsx'
import './index.css'

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\components\AccessibilityPanel.tsx =====
import React, { useState } from 'react'
import { X, RotateCcw, Volume2, Eye, Zap, Moon, Keyboard } from 'lucide-react'
import { useAccessibility } from '../context/AccessibilityContext'
import { motion, AnimatePresence } from 'framer-motion'

interface AccessibilityPanelProps {
  isOpen: boolean
  onClose: () => void
}

function AccessibilityPanel({ isOpen, onClose }: AccessibilityPanelProps) {
  const { settings, toggleHighContrast, setFontSize, toggleScreenReader, toggleKeyboardNavigation, resetSettings } = useAccessibility()

  if (!isOpen) return null

  const options = [
    {
      icon: Eye,
      label: 'High Contrast',
      desc: 'Maximize visibility with high contrast colors',
      active: settings.highContrast,
      toggle: toggleHighContrast,
      color: 'text-yellow-400',
    },
    {
      icon: Volume2,
      label: 'Screen Reader',
      desc: 'Enable audio feedback for navigation',
      active: settings.screenReaderEnabled,
      toggle: toggleScreenReader,
      color: 'text-cyan-400',
    },
    {
      icon: Keyboard,
      label: 'Keyboard Navigation',
      desc: 'Enhanced keyboard shortcuts',
      active: settings.keyboardNavigationEnabled,
      toggle: toggleKeyboardNavigation,
      color: 'text-emerald-400',
    },
  ]

  return (
    <AnimatePresence>
      {isOpen && (
        <>
          {/* Backdrop */}
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            className="fixed inset-0 bg-black/60 backdrop-blur-sm z-40"
            onClick={onClose}
          />

          {/* Panel */}
          <motion.div
            initial={{ x: '100%', opacity: 0 }}
            animate={{ x: 0, opacity: 1 }}
            exit={{ x: '100%', opacity: 0 }}
            transition={{ type: 'spring', damping: 30, stiffness: 300 }}
            className={`fixed right-0 top-0 h-full w-full max-w-sm z-50 overflow-y-auto ${
              settings.highContrast
                ? 'bg-black border-l-4 border-yellow-400'
                : 'bg-[#0d1626]/98 backdrop-blur-2xl border-l border-white/10'
            }`}
            onClick={(e) => e.stopPropagation()}
          >
            {/* Header */}
            <div className={`flex items-center justify-between p-6 border-b ${
              settings.highContrast ? 'border-yellow-400' : 'border-white/10'
            }`}>
              <div className="flex items-center gap-3">
                <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center">
                  <Zap size={20} className="text-white" />
                </div>
                <div>
                  <h2 className={`font-black text-lg ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                    Accessibility
                  </h2>
                  <p className={`text-xs ${settings.highContrast ? 'text-yellow-200' : 'text-white/40'}`}>
                    Customize your experience
                  </p>
                </div>
              </div>
              <button
                onClick={onClose}
                className={`w-9 h-9 rounded-xl flex items-center justify-center transition-all ${
                  settings.highContrast
                    ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                    : 'bg-white/10 text-white/70 hover:bg-white/20 hover:text-white'
                }`}
                aria-label="Close accessibility panel"
              >
                <X size={18} />
              </button>
            </div>

            <div className="p-6 space-y-6">
              {/* Toggle Options */}
              <div className="space-y-3">
                <h3 className={`text-xs font-bold uppercase tracking-widest ${settings.highContrast ? 'text-yellow-400' : 'text-white/40'}`}>
                  Visual & Audio
                </h3>
                {options.map((opt) => {
                  const Icon = opt.icon
                  return (
                    <button
                      key={opt.label}
                      onClick={opt.toggle}
                      className={`w-full flex items-center gap-4 p-4 rounded-2xl border transition-all text-left ${
                        opt.active
                          ? settings.highContrast
                            ? 'bg-yellow-400 border-yellow-400 text-black'
                            : 'bg-violet-500/15 border-violet-500/40 text-white'
                          : settings.highContrast
                            ? 'border-yellow-400/30 text-yellow-300 hover:bg-yellow-400/10'
                            : 'border-white/10 text-white/70 hover:bg-white/5 hover:text-white'
                      }`}
                    >
                      <div className={`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${
                        opt.active
                          ? settings.highContrast ? 'bg-black' : 'bg-violet-500/30'
                          : 'bg-white/5'
                      }`}>
                        <Icon size={18} className={opt.active ? (settings.highContrast ? 'text-yellow-400' : opt.color) : 'text-white/40'} />
                      </div>
                      <div className="flex-1">
                        <div className="text-sm font-bold">{opt.label}</div>
                        <div className={`text-xs mt-0.5 ${opt.active ? 'opacity-70' : 'opacity-50'}`}>{opt.desc}</div>
                      </div>
                      <div className={`w-11 h-6 rounded-full transition-all flex items-center px-0.5 ${
                        opt.active
                          ? settings.highContrast ? 'bg-black justify-end' : 'bg-violet-500 justify-end'
                          : 'bg-white/10 justify-start'
                      }`}>
                        <div className={`w-5 h-5 rounded-full ${
                          opt.active ? (settings.highContrast ? 'bg-yellow-400' : 'bg-white') : 'bg-white/40'
                        }`} />
                      </div>
                    </button>
                  )
                })}
              </div>

              {/* Font Size */}
              <div>
                <h3 className={`text-xs font-bold uppercase tracking-widest mb-3 ${settings.highContrast ? 'text-yellow-400' : 'text-white/40'}`}>
                  Text Size
                </h3>
                <div className={`p-4 rounded-2xl border ${settings.highContrast ? 'border-yellow-400' : 'border-white/10'}`}>
                  <div className="flex items-center justify-between mb-3">
                    <span className={`text-sm ${settings.highContrast ? 'text-yellow-300' : 'text-white/70'}`}>Font Size</span>
                    <span className={`text-sm font-bold px-2 py-0.5 rounded-lg ${
                      settings.highContrast ? 'bg-yellow-400 text-black' : 'bg-violet-500/20 text-violet-300'
                    }`}>
                      {settings.fontSize}%
                    </span>
                  </div>
                  <input
                    type="range"
                    min={80}
                    max={150}
                    step={5}
                    value={settings.fontSize}
                    onChange={(e) => setFontSize(Number(e.target.value))}
                    className="w-full h-2 rounded-full appearance-none cursor-pointer"
                    style={{
                      background: `linear-gradient(to right, #8b5cf6 0%, #8b5cf6 ${((settings.fontSize - 80) / 70) * 100}%, rgba(255,255,255,0.1) ${((settings.fontSize - 80) / 70) * 100}%, rgba(255,255,255,0.1) 100%)`
                    }}
                    aria-label="Font size"
                  />
                  <div className="flex justify-between text-xs text-white/30 mt-2">
                    <span>A</span>
                    <span className="text-base">A</span>
                    <span className="text-xl">A</span>
                  </div>
                </div>
              </div>

              {/* Reset */}
              <button
                onClick={resetSettings}
                className={`w-full py-3 rounded-2xl font-bold flex items-center justify-center gap-2 transition-all text-sm ${
                  settings.highContrast
                    ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                    : 'bg-red-500/10 text-red-400 hover:bg-red-500/20 border border-red-500/20'
                }`}
              >
                <RotateCcw size={16} /> Reset All Settings
              </button>

              <p className={`text-xs text-center ${settings.highContrast ? 'text-yellow-200' : 'text-white/30'}`}>
                Settings are saved automatically to your browser
              </p>
            </div>
          </motion.div>
        </>
      )}
    </AnimatePresence>
  )
}

export default AccessibilityPanel


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\components\ErrorBoundary.tsx =====
import React, { ReactNode } from 'react'
import { AlertTriangle, RefreshCw, Home } from 'lucide-react'
import { Link } from 'react-router-dom'

interface Props {
  children: ReactNode
}

interface State {
  hasError: boolean
  error: Error | null
  errorInfo: React.ErrorInfo | null
}

class ErrorBoundary extends React.Component<Props, State> {
  constructor(props: Props) {
    super(props)
    this.state = { hasError: false, error: null, errorInfo: null }
  }

  static getDerivedStateFromError(error: Error): Partial<State> {
    return { hasError: true, error }
  }

  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    console.error('ErrorBoundary caught:', error, errorInfo)
    this.setState(prev => ({ ...prev, errorInfo }))
  }

  handleReset = () => {
    this.setState({ hasError: false, error: null, errorInfo: null })
  }

  render() {
    if (this.state.hasError) {
      return (
        <div
          style={{
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            minHeight: '100vh',
            padding: '1rem',
            background: 'linear-gradient(135deg, #0a1a2e 0%, #16213e 100%)',
          }}
        >
          <div style={{ textAlign: 'center', maxWidth: '32rem', width: '100%' }}>
            {/* Icon */}
            <div
              style={{
                width: '6rem',
                height: '6rem',
                borderRadius: '1.5rem',
                background: 'rgba(239,68,68,0.1)',
                border: '1px solid rgba(239,68,68,0.2)',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                margin: '0 auto 1.5rem',
              }}
            >
              <AlertTriangle size={40} color="#f87171" />
            </div>

            <h1 style={{ fontSize: '2rem', fontWeight: 900, color: '#fff', marginBottom: '0.75rem' }}>
              Something Broke
            </h1>
            <p style={{ color: 'rgba(255,255,255,0.5)', marginBottom: '2rem' }}>
              An unexpected error occurred. Don't worry â€” your data is safe.
            </p>

            {/* Error details */}
            <div
              className="glass"
              style={{ padding: '1rem', marginBottom: '1.5rem', textAlign: 'left', maxHeight: '10rem', overflowY: 'auto' }}
            >
              <p style={{ color: '#fca5a5', fontFamily: 'monospace', fontSize: '0.875rem' }}>
                {this.state.error?.message}
              </p>
              {this.state.errorInfo && (
                <details style={{ marginTop: '0.5rem' }}>
                  <summary
                    style={{ color: 'rgba(255,255,255,0.4)', fontSize: '0.75rem', cursor: 'pointer' }}
                  >
                    Stack trace
                  </summary>
                  <pre
                    style={{
                      color: 'rgba(255,255,255,0.3)',
                      fontSize: '0.75rem',
                      marginTop: '0.5rem',
                      whiteSpace: 'pre-wrap',
                      wordBreak: 'break-all',
                    }}
                  >
                    {this.state.errorInfo.componentStack}
                  </pre>
                </details>
              )}
            </div>

            <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'center' }}>
              <button onClick={this.handleReset} className="btn btn-primary">
                <RefreshCw size={18} /> Try Again
              </button>
              <Link to="/" className="btn btn-secondary">
                <Home size={18} /> Go Home
              </Link>
            </div>
          </div>
        </div>
      )
    }

    return this.props.children
  }
}

export default ErrorBoundary


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\components\Footer.tsx =====
import React from 'react'
import { Github, Linkedin, Mail, Heart, Globe, Zap, ArrowUpRight } from 'lucide-react'
import { useAccessibility } from '../context/AccessibilityContext'
import { Link } from 'react-router-dom'

function Footer() {
  const { settings } = useAccessibility()
  const currentYear = new Date().getFullYear()

  const footerSections = [
    {
      title: 'Features',
      items: [
        { label: 'Text to Braille', href: '/text-to-braille' },
        { label: 'Image to Braille', href: '/image-to-braille' },
        { label: 'Braille to Text', href: '/braille-to-text' },
        { label: 'Dashboard', href: '/dashboard' },
      ]
    },
    {
      title: 'Resources',
      items: [
        { label: 'Documentation', href: '#' },
        { label: 'API Reference', href: '#' },
        { label: 'Braille Guide', href: '#' },
        { label: 'Accessibility Tips', href: '#' },
      ]
    },
    {
      title: 'Legal',
      items: [
        { label: 'Privacy Policy', href: '#' },
        { label: 'Terms of Service', href: '#' },
        { label: 'Cookie Policy', href: '#' },
        { label: 'GDPR', href: '#' },
      ]
    },
  ]

  const socials = [
    { icon: Github, label: 'GitHub', url: 'https://github.com' },
    { icon: Linkedin, label: 'LinkedIn', url: 'https://linkedin.com' },
    { icon: Mail, label: 'Email', url: 'mailto:support@brailleai.com' },
    { icon: Globe, label: 'Website', url: '#' },
  ]

  return (
    <footer className={`relative mt-20 ${
      settings.highContrast
        ? 'bg-black border-t-4 border-yellow-400'
        : 'border-t border-white/10'
    }`}>
      {/* Top gradient line */}
      {!settings.highContrast && (
        <div className="h-[1px] w-full bg-gradient-to-r from-transparent via-violet-500/50 to-transparent" />
      )}

      {/* Subtle background */}
      {!settings.highContrast && (
        <div className="absolute inset-0 bg-gradient-to-b from-transparent to-[rgba(10,15,30,0.8)] pointer-events-none" />
      )}

      <div className="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-10 mb-12">

          {/* Brand */}
          <div className="lg:col-span-2">
            <Link to="/" className="flex items-center gap-3 mb-5 group w-fit">
              <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center shadow-lg group-hover:shadow-violet-500/40 transition-all">
                <Zap size={20} className="text-white" />
              </div>
              <div>
                <span className={`font-black text-lg ${settings.highContrast ? 'text-yellow-400' : 'gradient-text'}`}>BrailleAI</span>
                <div className="text-[10px] text-violet-400/70 font-semibold -mt-0.5 tracking-widest uppercase">Conversion Tool</div>
              </div>
            </Link>

            <p className={`text-sm leading-relaxed mb-6 max-w-xs ${settings.highContrast ? 'text-yellow-100' : 'text-white/50'}`}>
              Making Braille accessible to everyone. Powered by AI, built for inclusivity. Free forever.
            </p>

            {/* Social Links */}
            <div className="flex gap-3">
              {socials.map(({ icon: Icon, label, url }) => (
                <a
                  key={label}
                  href={url}
                  target="_blank"
                  rel="noopener noreferrer"
                  className={`w-9 h-9 rounded-xl flex items-center justify-center transition-all hover:scale-110 ${
                    settings.highContrast
                      ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                      : 'bg-white/5 border border-white/10 text-white/50 hover:text-white hover:bg-white/10 hover:border-white/20'
                  }`}
                  aria-label={label}
                >
                  <Icon size={16} />
                </a>
              ))}
            </div>
          </div>

          {/* Links */}
          {footerSections.map((section) => (
            <div key={section.title}>
              <h4 className={`text-xs font-bold uppercase tracking-widest mb-4 ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>
                {section.title}
              </h4>
              <ul className="space-y-2.5">
                {section.items.map((item) => (
                  <li key={item.label}>
                    <Link
                      to={item.href}
                      className={`text-sm flex items-center gap-1 group transition-all ${
                        settings.highContrast
                          ? 'text-yellow-200 hover:text-yellow-400'
                          : 'text-white/50 hover:text-white'
                      }`}
                    >
                      {item.label}
                      <ArrowUpRight size={12} className="opacity-0 group-hover:opacity-100 transition-opacity" />
                    </Link>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </div>

        {/* Divider */}
        <div className={`h-px w-full mb-8 ${
          settings.highContrast ? 'bg-yellow-400' : 'bg-white/10'
        }`} />

        {/* Bottom */}
        <div className="flex flex-col md:flex-row items-center justify-between gap-4">
          <p className={`text-xs flex items-center gap-1.5 ${settings.highContrast ? 'text-yellow-300' : 'text-white/40'}`}>
            Made with <Heart size={12} className="text-red-400 fill-current" /> for accessibility
            <span className="hidden sm:inline">Â· Â© {currentYear} BrailleAI Â· All rights reserved</span>
          </p>

          <div className={`flex items-center gap-4 text-xs ${settings.highContrast ? 'text-yellow-200' : 'text-white/30'}`}>
            <span>v1.0.0</span>
            <span>Â·</span>
            <span className="flex items-center gap-1.5">
              <span className="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse" />
              All systems operational
            </span>
          </div>
        </div>
      </div>
    </footer>
  )
}

export default Footer


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\components\Loading.tsx =====
import React from 'react'
import { useAccessibility } from '../context/AccessibilityContext'

function Loading() {
  const { settings } = useAccessibility()

  return (
    <div className={`flex items-center justify-center min-h-screen ${
      settings.highContrast ? 'bg-black' : ''
    }`}
      style={{ background: settings.highContrast ? '#000' : 'var(--gradient-hero)' }}
    >
      <div className="text-center">
        {/* Animated Braille dots */}
        <div className="relative w-24 h-24 mx-auto mb-8">
          {/* Outer ring */}
          <div className="absolute inset-0 rounded-full border-2 border-violet-500/20 animate-spin" style={{ animationDuration: '3s' }} />
          <div className="absolute inset-2 rounded-full border-2 border-pink-500/20 animate-spin" style={{ animationDuration: '2s', animationDirection: 'reverse' }} />

          {/* Center logo */}
          <div className="absolute inset-0 flex items-center justify-center">
            <div className="w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center shadow-2xl shadow-violet-500/50">
              <span className="text-white text-2xl font-black">â ƒ</span>
            </div>
          </div>

          {/* Orbiting dots */}
          {[0, 1, 2, 3].map((i) => (
            <div
              key={i}
              className="absolute w-2.5 h-2.5 rounded-full"
              style={{
                background: i % 2 === 0 ? '#8b5cf6' : '#ec4899',
                top: '50%',
                left: '50%',
                transformOrigin: `${40}px 0`,
                animation: `spin ${1.5 + i * 0.3}s linear infinite`,
                animationDelay: `${i * 0.2}s`,
                transform: `rotate(${i * 90}deg) translateX(40px)`,
              }}
            />
          ))}
        </div>

        <div className="space-y-3">
          <h2 className={`text-2xl font-black ${settings.highContrast ? 'text-yellow-400' : 'gradient-text'}`}>
            BrailleAI
          </h2>
          <p className={`text-sm ${settings.highContrast ? 'text-yellow-200' : 'text-white/50'}`}>
            Loading your experience...
          </p>

          {/* Progress bar */}
          <div className={`w-48 h-1 mx-auto rounded-full overflow-hidden ${
            settings.highContrast ? 'bg-yellow-400/20' : 'bg-white/10'
          }`}>
            <div className={`h-full rounded-full animate-pulse ${
              settings.highContrast
                ? 'bg-yellow-400'
                : 'bg-gradient-to-r from-violet-500 to-pink-500'
            }`} style={{ width: '60%' }} />
          </div>
        </div>

        {/* Braille pattern decoration */}
        {!settings.highContrast && (
          <div className="flex justify-center gap-3 mt-8 opacity-20">
            {['â “', 'â ‘', 'â ‡', 'â ‡', 'â •'].map((char, i) => (
              <span
                key={i}
                className="text-2xl text-violet-400"
                style={{
                  animation: `pulse 1.5s ease-in-out infinite`,
                  animationDelay: `${i * 0.15}s`
                }}
              >
                {char}
              </span>
            ))}
          </div>
        )}
      </div>
    </div>
  )
}

export default Loading


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\components\Navbar.tsx =====
import React, { useState, useEffect } from 'react'
import { Link, useLocation, useNavigate } from 'react-router-dom'
import { motion, AnimatePresence } from 'framer-motion'
import {
  Menu, X, Zap, LogOut, Settings, History,
  ChevronDown, BookOpen, Image, ArrowDownUp, LayoutDashboard, Bell
} from 'lucide-react'
import { useAuthStore } from '../hooks/useAuth'
import { useAccessibility } from '../context/AccessibilityContext'
import toast from 'react-hot-toast'

const navLinks = [
  { to: '/text-to-braille', label: 'Text â†’ Braille', icon: BookOpen, color: 'text-violet-400' },
  { to: '/image-to-braille', label: 'Image â†’ Braille', icon: Image, color: 'text-pink-400' },
  { to: '/braille-to-text', label: 'Braille â†’ Text', icon: ArrowDownUp, color: 'text-cyan-400' },
]

export default function Navbar() {
  const [mobileOpen, setMobileOpen] = useState(false)
  const [userMenuOpen, setUserMenuOpen] = useState(false)
  const [scrolled, setScrolled] = useState(false)
  const location = useLocation()
  const navigate = useNavigate()
  const { user, isAuthenticated, logout } = useAuthStore()
  const { settings } = useAccessibility()

  useEffect(() => {
    const handler = () => setScrolled(window.scrollY > 20)
    window.addEventListener('scroll', handler)
    return () => window.removeEventListener('scroll', handler)
  }, [])

  useEffect(() => {
    setMobileOpen(false)
    setUserMenuOpen(false)
  }, [location.pathname])

  const handleLogout = async () => {
    await logout()
    toast.success('Logged out successfully')
    navigate('/')
  }

  const isActive = (path: string) => location.pathname === path

  return (
    <motion.nav
      initial={{ y: -80, opacity: 0 }}
      animate={{ y: 0, opacity: 1 }}
      transition={{ duration: 0.5, ease: [0.4, 0, 0.2, 1] }}
      className={`sticky top-0 z-50 transition-all duration-500 ${
        scrolled
          ? 'bg-[rgba(10,15,30,0.97)] backdrop-blur-2xl border-b border-white/10 shadow-[0_8px_32px_rgba(0,0,0,0.4)]'
          : 'bg-transparent'
      } ${settings.highContrast ? '!bg-black !border-b-4 !border-yellow-400' : ''}`}
      role="navigation"
      aria-label="Main navigation"
    >
      {/* Top gradient line */}
      <div className="h-[2px] w-full bg-gradient-to-r from-violet-500 via-pink-500 to-cyan-500" />

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex items-center justify-between h-16">

          {/* Logo */}
          <Link to="/" className="flex items-center gap-3 group" aria-label="BrailleAI Home">
            <div className="relative">
              <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 via-purple-500 to-pink-500 flex items-center justify-center shadow-lg shadow-violet-500/30 group-hover:shadow-violet-500/60 transition-all duration-300 group-hover:scale-110">
                <Zap size={20} className="text-white" />
              </div>
              <div className="absolute -top-1 -right-1 w-3 h-3 rounded-full bg-emerald-400 border-2 border-[#0a0f1e] animate-pulse" />
            </div>
            <div>
              <span className={`font-black text-xl tracking-tight ${settings.highContrast ? 'text-yellow-400' : 'gradient-text'}`}>
                BrailleAI
              </span>
              <div className="text-[10px] text-violet-400/70 font-semibold -mt-1 tracking-[0.2em] uppercase">
                Conversion Tool
              </div>
            </div>
          </Link>

          {/* Desktop Nav Links */}
          <div className="hidden md:flex items-center gap-1 bg-white/5 rounded-2xl p-1 border border-white/10 backdrop-blur-sm">
            {navLinks.map(({ to, label, icon: Icon, color }) => (
              <Link
                key={to}
                to={to}
                className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${
                  isActive(to)
                    ? settings.highContrast
                      ? 'bg-yellow-400 text-black'
                      : 'bg-white/15 text-white shadow-inner border border-white/20'
                    : settings.highContrast
                      ? 'text-yellow-400 hover:bg-yellow-400/20'
                      : 'text-white/60 hover:text-white hover:bg-white/10'
                }`}
              >
                <Icon size={15} className={isActive(to) ? 'text-violet-300' : color} />
                {label}
              </Link>
            ))}
          </div>

          {/* Right Side */}
          <div className="flex items-center gap-3">
            {isAuthenticated ? (
              <>
                <Link
                  to="/dashboard"
                  className={`hidden md:flex items-center gap-2 px-3 py-1.5 rounded-xl text-sm font-medium transition-all ${
                    isActive('/dashboard')
                      ? 'bg-violet-500/20 text-violet-300 border border-violet-500/30'
                      : 'text-white/60 hover:text-white hover:bg-white/10'
                  } ${settings.highContrast ? '!text-yellow-400 hover:!bg-yellow-400 hover:!text-black' : ''}`}
                >
                  <LayoutDashboard size={15} />
                  Dashboard
                </Link>

                {/* User Menu */}
                <div className="relative">
                  <button
                    onClick={() => setUserMenuOpen(!userMenuOpen)}
                    className={`flex items-center gap-2 px-3 py-1.5 rounded-xl border transition-all ${
                      settings.highContrast
                        ? 'border-yellow-400 text-yellow-400'
                        : 'border-white/10 bg-white/5 hover:bg-white/10 text-white'
                    }`}
                    aria-expanded={userMenuOpen}
                    aria-haspopup="true"
                  >
                    <div className="w-7 h-7 rounded-full bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center text-xs font-bold text-white shadow-md">
                      {user?.username?.[0]?.toUpperCase() || 'U'}
                    </div>
                    <span className="text-sm font-medium hidden sm:block max-w-[80px] truncate">
                      {user?.username}
                    </span>
                    <ChevronDown size={14} className={`transition-transform duration-200 ${userMenuOpen ? 'rotate-180' : ''}`} />
                  </button>

                  <AnimatePresence>
                    {userMenuOpen && (
                      <motion.div
                        initial={{ opacity: 0, y: -8, scale: 0.95 }}
                        animate={{ opacity: 1, y: 0, scale: 1 }}
                        exit={{ opacity: 0, y: -8, scale: 0.95 }}
                        transition={{ duration: 0.15 }}
                        className={`absolute right-0 top-full mt-2 w-56 rounded-2xl border shadow-2xl overflow-hidden ${
                          settings.highContrast
                            ? 'bg-black border-yellow-400'
                            : 'bg-[#0d1626]/98 border-white/10 backdrop-blur-2xl'
                        }`}
                      >
                        {/* User Info */}
                        <div className={`px-4 py-3 border-b ${settings.highContrast ? 'border-yellow-400' : 'border-white/10'}`}>
                          <div className="flex items-center gap-3">
                            <div className="w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center text-sm font-bold text-white">
                              {user?.username?.[0]?.toUpperCase() || 'U'}
                            </div>
                            <div>
                              <div className={`text-sm font-bold ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                                {user?.full_name || user?.username}
                              </div>
                              <div className="text-xs text-white/40 truncate max-w-[130px]">{user?.email}</div>
                            </div>
                          </div>
                        </div>

                        {/* Menu Items */}
                        {[
                          { to: '/dashboard', icon: LayoutDashboard, label: 'Dashboard' },
                          { to: '/history', icon: History, label: 'History' },
                          { to: '/profile', icon: Settings, label: 'Settings' },
                        ].map(({ to, icon: Icon, label }) => (
                          <Link
                            key={to}
                            to={to}
                            className={`flex items-center gap-3 px-4 py-2.5 text-sm transition-all ${
                              settings.highContrast
                                ? 'text-yellow-400 hover:bg-yellow-400 hover:text-black'
                                : 'text-white/70 hover:text-white hover:bg-white/10'
                            }`}
                          >
                            <Icon size={15} />
                            {label}
                          </Link>
                        ))}

                        <div className={`border-t ${settings.highContrast ? 'border-yellow-400' : 'border-white/10'}`}>
                          <button
                            onClick={handleLogout}
                            className="w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-400 hover:bg-red-500/10 transition-all"
                          >
                            <LogOut size={15} />
                            Sign Out
                          </button>
                        </div>
                      </motion.div>
                    )}
                  </AnimatePresence>
                </div>
              </>
            ) : (
              <div className="flex items-center gap-2">
                <Link
                  to="/login"
                  className={`px-4 py-2 text-sm font-medium rounded-xl transition-all ${
                    settings.highContrast
                      ? 'text-yellow-400 hover:bg-yellow-400 hover:text-black border border-yellow-400'
                      : 'text-white/70 hover:text-white hover:bg-white/10'
                  }`}
                >
                  Sign In
                </Link>
                <Link
                  to="/register"
                  className="relative px-4 py-2 text-sm font-bold rounded-xl bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-lg hover:shadow-violet-500/30 transition-all hover:scale-105"
                >
                  Get Started
                </Link>
              </div>
            )}

            {/* Mobile Toggle */}
            <button
              className="md:hidden w-9 h-9 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-white/70 hover:text-white hover:bg-white/10 transition-all"
              onClick={() => setMobileOpen(!mobileOpen)}
              aria-label={mobileOpen ? 'Close menu' : 'Open menu'}
              aria-expanded={mobileOpen}
            >
              {mobileOpen ? <X size={18} /> : <Menu size={18} />}
            </button>
          </div>
        </div>
      </div>

      {/* Mobile Menu */}
      <AnimatePresence>
        {mobileOpen && (
          <motion.div
            initial={{ opacity: 0, height: 0 }}
            animate={{ opacity: 1, height: 'auto' }}
            exit={{ opacity: 0, height: 0 }}
            transition={{ duration: 0.25 }}
            className={`md:hidden overflow-hidden border-t ${
              settings.highContrast
                ? 'bg-black border-yellow-400'
                : 'bg-[rgba(10,15,30,0.99)] border-white/10 backdrop-blur-2xl'
            }`}
          >
            <div className="px-4 py-4 space-y-1">
              {navLinks.map(({ to, label, icon: Icon, color }) => (
                <Link
                  key={to}
                  to={to}
                  className={`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all ${
                    isActive(to)
                      ? settings.highContrast
                        ? 'bg-yellow-400 text-black'
                        : 'bg-violet-500/20 text-violet-300 border border-violet-500/20'
                      : settings.highContrast
                        ? 'text-yellow-400 hover:bg-yellow-400/20'
                        : 'text-white/70 hover:bg-white/10 hover:text-white'
                  }`}
                >
                  <Icon size={18} className={color} />
                  {label}
                </Link>
              ))}

              {isAuthenticated ? (
                <>
                  <Link to="/dashboard" className="flex items-center gap-3 px-4 py-3 rounded-xl text-sm text-white/70 hover:bg-white/10 hover:text-white transition-all">
                    <LayoutDashboard size={18} className="text-violet-400" /> Dashboard
                  </Link>
                  <button
                    onClick={handleLogout}
                    className="w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm text-red-400 hover:bg-red-500/10 transition-all"
                  >
                    <LogOut size={18} /> Sign Out
                  </button>
                </>
              ) : (
                <div className="flex gap-2 pt-2">
                  <Link to="/login" className="flex-1 text-center py-2.5 rounded-xl border border-white/10 text-white/70 text-sm hover:bg-white/5 transition-all">Sign In</Link>
                  <Link to="/register" className="flex-1 text-center py-2.5 rounded-xl bg-gradient-to-r from-violet-500 to-pink-500 text-white text-sm font-bold hover:shadow-lg transition-all">Get Started</Link>
                </div>
              )}
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    </motion.nav>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\components\Sidebar.tsx =====
import React, { useState } from 'react'
import { Link, useLocation } from 'react-router-dom'
import {
  ChevronLeft, ChevronRight, Home, BookOpen, Image,
  ArrowDownUp, BarChart3, HelpCircle, FileText, Zap
} from 'lucide-react'
import { useAccessibility } from '../context/AccessibilityContext'

const menuItems = [
  { icon: Home, label: 'Home', path: '/', color: 'text-white' },
  { icon: BookOpen, label: 'Text to Braille', path: '/text-to-braille', color: 'text-violet-400' },
  { icon: Image, label: 'Image to Braille', path: '/image-to-braille', color: 'text-pink-400' },
  { icon: ArrowDownUp, label: 'Braille to Text', path: '/braille-to-text', color: 'text-cyan-400' },
  { icon: BarChart3, label: 'Dashboard', path: '/dashboard', color: 'text-emerald-400' },
  { icon: FileText, label: 'Documentation', path: '#', color: 'text-amber-400' },
  { icon: HelpCircle, label: 'Help & Support', path: '#', color: 'text-blue-400' },
]

function Sidebar() {
  const [isCollapsed, setIsCollapsed] = useState(false)
  const location = useLocation()
  const { settings } = useAccessibility()
  const isActive = (path: string) => location.pathname === path

  return (
    <aside className={`${isCollapsed ? 'w-[72px]' : 'w-64'} transition-all duration-300 ease-in-out hidden md:flex flex-col h-screen sticky top-0 ${
      settings.highContrast
        ? 'bg-black border-r-4 border-yellow-400'
        : 'bg-[rgba(10,15,30,0.8)] backdrop-blur-xl border-r border-white/10'
    }`}>

      {/* Logo area */}
      <div className={`flex items-center gap-3 px-4 py-5 border-b ${
        settings.highContrast ? 'border-yellow-400' : 'border-white/10'
      }`}>
        <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center flex-shrink-0">
          <Zap size={16} className="text-white" />
        </div>
        {!isCollapsed && (
          <span className={`font-black text-sm ${settings.highContrast ? 'text-yellow-400' : 'gradient-text'}`}>
            BrailleAI
          </span>
        )}
      </div>

      {/* Nav */}
      <nav className="flex-1 p-2 space-y-1 overflow-y-auto">
        {menuItems.map((item) => {
          const Icon = item.icon
          const active = isActive(item.path)
          return (
            <Link
              key={item.path}
              to={item.path}
              title={isCollapsed ? item.label : undefined}
              className={`flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 group relative ${
                active
                  ? settings.highContrast
                    ? 'bg-yellow-400 text-black'
                    : 'bg-gradient-to-r from-violet-500/20 to-pink-500/10 text-white border border-violet-500/30'
                  : settings.highContrast
                    ? 'text-yellow-300 hover:bg-yellow-400/20'
                    : 'text-white/50 hover:text-white hover:bg-white/10'
              }`}
            >
              {active && !settings.highContrast && (
                <div className="absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 rounded-r-full bg-gradient-to-b from-violet-500 to-pink-500" />
              )}
              <Icon size={18} className={`flex-shrink-0 ${active ? (settings.highContrast ? 'text-black' : item.color) : item.color}`} />
              {!isCollapsed && (
                <span className="text-sm font-medium truncate">{item.label}</span>
              )}

              {/* Tooltip when collapsed */}
              {isCollapsed && (
                <div className="absolute left-full ml-2 px-2 py-1 bg-[#0d1626] border border-white/10 rounded-lg text-xs text-white whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 shadow-xl">
                  {item.label}
                </div>
              )}
            </Link>
          )
        })}
      </nav>

      {/* Collapse toggle */}
      <div className={`p-2 border-t ${settings.highContrast ? 'border-yellow-400' : 'border-white/10'}`}>
        <button
          onClick={() => setIsCollapsed(!isCollapsed)}
          className={`w-full py-2.5 rounded-xl transition-all flex items-center justify-center gap-2 text-sm font-medium ${
            settings.highContrast
              ? 'bg-yellow-400/10 text-yellow-400 hover:bg-yellow-400/20 border border-yellow-400'
              : 'bg-white/5 text-white/40 hover:text-white hover:bg-white/10 border border-white/10'
          }`}
          aria-label={isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}
        >
          {isCollapsed
            ? <ChevronRight size={16} />
            : <><ChevronLeft size={16} /> <span>Collapse</span></>
          }
        </button>
      </div>
    </aside>
  )
}

export default Sidebar


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\context\AccessibilityContext.tsx =====
import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react'

interface AccessibilitySettings {
  highContrast: boolean
  fontSize: number
  screenReaderEnabled: boolean
  keyboardNavigationEnabled: boolean
  reducedMotion: boolean
}

interface AccessibilityContextType {
  settings: AccessibilitySettings
  toggleHighContrast: () => void
  setFontSize: (size: number) => void
  toggleScreenReader: () => void
  toggleKeyboardNavigation: () => void
  toggleReducedMotion: () => void
  resetSettings: () => void
}

const defaultSettings: AccessibilitySettings = {
  highContrast: false,
  fontSize: 100,
  screenReaderEnabled: false,
  keyboardNavigationEnabled: false,
  reducedMotion: false,
}

const AccessibilityContext = createContext<AccessibilityContextType | undefined>(undefined)

export function AccessibilityProvider({ children }: { children: ReactNode }) {
  const [settings, setSettings] = useState<AccessibilitySettings>(() => {
    try {
      const stored = localStorage.getItem('accessibility-settings')
      return stored ? { ...defaultSettings, ...JSON.parse(stored) } : defaultSettings
    } catch {
      return defaultSettings
    }
  })

  // Persist to localStorage
  useEffect(() => {
    localStorage.setItem('accessibility-settings', JSON.stringify(settings))
  }, [settings])

  // Apply font size to root
  useEffect(() => {
    document.documentElement.style.fontSize = `${settings.fontSize}%`
  }, [settings.fontSize])

  // Apply high contrast class
  useEffect(() => {
    if (settings.highContrast) {
      document.documentElement.classList.add('high-contrast')
    } else {
      document.documentElement.classList.remove('high-contrast')
    }
  }, [settings.highContrast])

  // Apply reduced motion
  useEffect(() => {
    if (settings.reducedMotion) {
      document.documentElement.classList.add('reduce-motion')
    } else {
      document.documentElement.classList.remove('reduce-motion')
    }
  }, [settings.reducedMotion])

  const toggleHighContrast = () =>
    setSettings(prev => ({ ...prev, highContrast: !prev.highContrast }))

  const setFontSize = (size: number) =>
    setSettings(prev => ({ ...prev, fontSize: Math.min(150, Math.max(80, size)) }))

  const toggleScreenReader = () =>
    setSettings(prev => ({ ...prev, screenReaderEnabled: !prev.screenReaderEnabled }))

  const toggleKeyboardNavigation = () =>
    setSettings(prev => ({ ...prev, keyboardNavigationEnabled: !prev.keyboardNavigationEnabled }))

  const toggleReducedMotion = () =>
    setSettings(prev => ({ ...prev, reducedMotion: !prev.reducedMotion }))

  const resetSettings = () => {
    setSettings(defaultSettings)
    localStorage.removeItem('accessibility-settings')
  }

  return (
    <AccessibilityContext.Provider value={{
      settings,
      toggleHighContrast,
      setFontSize,
      toggleScreenReader,
      toggleKeyboardNavigation,
      toggleReducedMotion,
      resetSettings,
    }}>
      {children}
    </AccessibilityContext.Provider>
  )
}

export function useAccessibility(): AccessibilityContextType {
  const context = useContext(AccessibilityContext)
  if (!context) {
    throw new Error('useAccessibility must be used within AccessibilityProvider')
  }
  return context
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\BrailleToText.tsx =====
import React, { useState } from 'react'
import { motion } from 'framer-motion'
import { ArrowDownUp, Copy, RotateCcw, Zap } from 'lucide-react'
import { useBrailleToText } from '../hooks/useConversion'
import { useClipboard } from '../hooks/useClipboard'
import { useAccessibility } from '../context/AccessibilityContext'

const brailleExamples = ['â “â ‘â ‡â ‡â •', 'â ƒâ —â â Šâ ‡â ‡â ‘', 'â “â ‘â ‡â ‡â • â ºâ •â —â ‡â ™']

export default function BrailleToText() {
  const [braille, setBraille] = useState('')
  const [grade, setGrade] = useState<1 | 2>(1)
  const { result, isLoading, error, progress, convert, reset } = useBrailleToText()
  const { copy, copied } = useClipboard()
  const { settings } = useAccessibility()

  const handleReset = () => { setBraille(''); reset() }

  return (
    <div className="min-h-screen py-12 px-4">
      <div className="max-w-5xl mx-auto">

        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center mb-12"
        >
          <div className={`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold mb-4 ${
            settings.highContrast
              ? 'bg-yellow-400 text-black'
              : 'bg-cyan-500/10 border border-cyan-500/20 text-cyan-400'
          }`}>
            <ArrowDownUp size={14} /> Braille to Text
          </div>
          <h1 className={`text-4xl md:text-5xl font-black mb-3 ${
            settings.highContrast ? 'text-yellow-400' : 'text-white'
          }`}>
            Decode Braille to Text
          </h1>
          <p className={`text-lg ${settings.highContrast ? 'text-yellow-100' : 'text-white/50'}`}>
            Paste Braille unicode and get readable text instantly
          </p>
        </motion.div>

        <div className="grid lg:grid-cols-2 gap-6">

          {/* Input Panel */}
          <motion.div
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.1 }}
            className={`rounded-3xl border p-6 ${
              settings.highContrast
                ? 'border-yellow-400 bg-black'
                : 'border-white/10 bg-white/[0.03]'
            }`}
          >
            <div className="flex items-center justify-between mb-4">
              <h2 className={`font-bold text-sm uppercase tracking-widest ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>Braille Input</h2>
              <span className={`text-xs ${settings.highContrast ? 'text-yellow-300' : 'text-white/30'}`}>
                {braille.length} chars
              </span>
            </div>

            <textarea
              value={braille}
              onChange={e => setBraille(e.target.value)}
              placeholder="Paste Braille unicode here e.g. â “â ‘â ‡â ‡â •"
              rows={8}
              className={`w-full bg-transparent resize-none outline-none text-2xl leading-loose tracking-widest font-mono ${
                settings.highContrast
                  ? 'text-yellow-100 placeholder:text-yellow-400/40'
                  : 'text-white placeholder:text-white/20'
              }`}
              aria-label="Braille input for conversion"
            />

            {/* Examples */}
            <div className="flex flex-wrap gap-2 mt-4 pt-4 border-t border-white/10">
              <span className={`text-xs ${settings.highContrast ? 'text-yellow-300' : 'text-white/30'}`}>Examples:</span>
              {brailleExamples.map(ex => (
                <button
                  key={ex}
                  onClick={() => setBraille(ex)}
                  className={`text-sm px-3 py-1 rounded-full font-mono transition-all ${
                    settings.highContrast
                      ? 'bg-yellow-400/20 text-yellow-400 hover:bg-yellow-400 hover:text-black border border-yellow-400'
                      : 'bg-white/5 text-white/50 hover:text-white hover:bg-white/10 border border-white/10'
                  }`}
                >
                  {ex}
                </button>
              ))}
            </div>

            {/* Grade */}
            <div className="mt-4">
              <label className={`text-xs font-bold uppercase tracking-widest block mb-2 ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>Braille Grade</label>
              <div className="flex gap-3">
                {([1, 2] as const).map(g => (
                  <button
                    key={g}
                    onClick={() => setGrade(g)}
                    className={`flex-1 py-2 rounded-xl text-sm font-bold border transition-all ${
                      grade === g
                        ? settings.highContrast
                          ? 'bg-yellow-400 text-black border-yellow-400'
                          : 'bg-cyan-500/20 text-cyan-300 border-cyan-500/40'
                        : settings.highContrast
                          ? 'border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10'
                          : 'border-white/10 text-white/50 hover:bg-white/10'
                    }`}
                  >
                    Grade {g}
                  </button>
                ))}
              </div>
            </div>

            {/* Buttons */}
            <div className="flex gap-3 mt-5">
              <button
                onClick={() => convert(braille, { grade })}
                disabled={isLoading || !braille.trim()}
                className={`flex-1 flex items-center justify-center gap-2 py-3 rounded-2xl font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed ${
                  settings.highContrast
                    ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                    : 'bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:shadow-lg hover:shadow-cyan-500/30 hover:scale-[1.02]'
                }`}
              >
                {isLoading ? (
                  <><div className="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin" /> Decoding...</>
                ) : (
                  <><Zap size={16} /> Decode</>
                )}
              </button>
              <button
                onClick={handleReset}
                className={`px-4 py-3 rounded-2xl border transition-all ${
                  settings.highContrast
                    ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                    : 'border-white/10 text-white/50 hover:text-white hover:bg-white/10'
                }`}
              >
                <RotateCcw size={16} />
              </button>
            </div>

            {isLoading && (
              <div className="mt-4">
                <div className={`h-1.5 rounded-full overflow-hidden ${settings.highContrast ? 'bg-yellow-400/20' : 'bg-white/10'}`}>
                  <motion.div
                    className={`h-full rounded-full ${settings.highContrast ? 'bg-yellow-400' : 'bg-gradient-to-r from-cyan-500 to-blue-500'}`}
                    animate={{ width: `${progress}%` }}
                    transition={{ duration: 0.3 }}
                  />
                </div>
              </div>
            )}
          </motion.div>

          {/* Output Panel */}
          <motion.div
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.2 }}
            className={`rounded-3xl border p-6 ${
              settings.highContrast
                ? 'border-yellow-400 bg-black'
                : 'border-white/10 bg-white/[0.03]'
            }`}
          >
            <div className="flex items-center justify-between mb-4">
              <h2 className={`font-bold text-sm uppercase tracking-widest ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>Text Output</h2>

              {result?.text && (
                <button
                  onClick={() => copy(result.text || '')}
                  className={`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-bold transition-all ${
                    settings.highContrast
                      ? 'bg-yellow-400 text-black'
                      : 'bg-white/10 text-white/70 hover:bg-white/20 hover:text-white'
                  }`}
                >
                  <Copy size={12} /> {copied ? 'Copied!' : 'Copy'}
                </button>
              )}
            </div>

            {error && (
              <div className="p-4 rounded-2xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm mb-4">
                {error}
              </div>
            )}

            {result ? (
              <div className="space-y-4">
                <div className={`p-6 rounded-2xl border min-h-[150px] ${
                  settings.highContrast
                    ? 'border-yellow-400 bg-yellow-400/10'
                    : 'border-white/10 bg-white/5'
                }`}>
                  <p className={`text-xl font-medium leading-relaxed ${
                    settings.highContrast ? 'text-yellow-100' : 'text-white'
                  }`}>
                    {result.text}
                  </p>
                </div>

                <div className="grid grid-cols-2 gap-3">
                  {[
                    { label: 'Characters', value: result.character_count || result.text?.length },
                    { label: 'Words', value: result.word_count || result.text?.split(' ').length },
                  ].map(s => (
                    <div
                      key={s.label}
                      className={`p-3 rounded-2xl text-center border ${
                        settings.highContrast
                          ? 'border-yellow-400 bg-yellow-400/10'
                          : 'border-white/10 bg-white/5'
                      }`}
                    >
                      <div className={`text-2xl font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                        {s.value}
                      </div>
                      <div className={`text-xs mt-1 ${settings.highContrast ? 'text-yellow-300' : 'text-white/40'}`}>
                        {s.label}
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            ) : (
              <div className={`flex flex-col items-center justify-center min-h-[250px] gap-4 ${
                settings.highContrast ? 'text-yellow-400/40' : 'text-white/20'
              }`}>
                <ArrowDownUp size={48} className="opacity-30" />
                <p className="text-sm">Decoded text will appear here</p>
              </div>
            )}
          </motion.div>
        </div>
      </div>
    </div>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\Dashboard.tsx =====
import React from 'react'
import { motion } from 'framer-motion'
import { Link } from 'react-router-dom'
import {
  BarChart3, BookOpen, Image, ArrowDownUp,
  Clock, Star, Trash2, ChevronRight, Zap
} from 'lucide-react'
import { useAuthStore } from '../hooks/useAuth'
import { useHistory } from '../hooks/useHistory'
import { useAccessibility } from '../context/AccessibilityContext'

const typeConfig: Record<string, { label: string; color: string; icon: typeof BookOpen }> = {
  text_to_braille: { label: 'Text â†’ Braille', color: 'text-violet-400', icon: BookOpen },
  image_to_braille: { label: 'Image â†’ Braille', color: 'text-pink-400', icon: Image },
  braille_to_text: { label: 'Braille â†’ Text', color: 'text-cyan-400', icon: ArrowDownUp },
}

const quickLinks = [
  { to: '/text-to-braille', label: 'Text to Braille', icon: BookOpen, gradient: 'from-violet-500 to-purple-600' },
  { to: '/image-to-braille', label: 'Image to Braille', icon: Image, gradient: 'from-pink-500 to-rose-600' },
  { to: '/braille-to-text', label: 'Braille to Text', icon: ArrowDownUp, gradient: 'from-cyan-500 to-blue-600' },
]

export default function Dashboard() {
  const { user } = useAuthStore()
  const { items, total, isLoading, deleteItem, toggleFavorite } = useHistory()
  const { settings } = useAccessibility()

  const stats = [
    { label: 'Total Conversions', value: total, icon: BarChart3, color: 'text-violet-400' },
    { label: 'This Week', value: items.filter(i => {
      const d = new Date(i.created_at)
      const week = new Date(); week.setDate(week.getDate() - 7)
      return d > week
    }).length, icon: Clock, color: 'text-pink-400' },
    { label: 'Favorites', value: items.filter(i => i.is_favorite).length, icon: Star, color: 'text-yellow-400' },
  ]

  const formatDate = (d: string) => new Date(d).toLocaleDateString('en-US', {
    month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'
  })

  return (
    <div className="min-h-screen py-12 px-4">
      <div className="max-w-6xl mx-auto">

        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="mb-10"
        >
          <div className={`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold mb-4 ${
            settings.highContrast
              ? 'bg-yellow-400 text-black'
              : 'bg-violet-500/10 border border-violet-500/20 text-violet-400'
          }`}>
            <BarChart3 size={14} /> Dashboard
          </div>
          <h1 className={`text-4xl md:text-5xl font-black mb-2 ${
            settings.highContrast ? 'text-yellow-400' : 'text-white'
          }`}>
            Welcome back, {user?.full_name || user?.username}!
          </h1>
          <p className={settings.highContrast ? 'text-yellow-100' : 'text-white/50'}>
            Here's your Braille conversion activity
          </p>
        </motion.div>

        {/* Stats */}
        <div className="grid sm:grid-cols-3 gap-4 mb-8">
          {stats.map((s, i) => {
            const Icon = s.icon
            return (
              <motion.div
                key={s.label}
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: i * 0.1 }}
                className={`p-6 rounded-2xl border ${
                  settings.highContrast
                    ? 'border-yellow-400 bg-yellow-400/5'
                    : 'border-white/10 bg-white/[0.03]'
                }`}
              >
                <div className="flex items-center justify-between mb-3">
                  <span className={`text-sm font-medium ${settings.highContrast ? 'text-yellow-200' : 'text-white/50'}`}>
                    {s.label}
                  </span>
                  <Icon size={18} className={settings.highContrast ? 'text-yellow-400' : s.color} />
                </div>
                <div className={`text-4xl font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                  {s.value}
                </div>
              </motion.div>
            )
          })}
        </div>

        {/* Quick Links */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.3 }}
          className="mb-8"
        >
          <h2 className={`text-lg font-black mb-4 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
            Quick Convert
          </h2>
          <div className="grid sm:grid-cols-3 gap-4">
            {quickLinks.map(({ to, label, icon: Icon, gradient }) => (
              <Link
                key={to}
                to={to}
                className={`group flex items-center gap-3 p-4 rounded-2xl border transition-all ${
                  settings.highContrast
                    ? 'border-yellow-400 hover:bg-yellow-400/10 text-yellow-400'
                    : 'border-white/10 hover:border-white/20 bg-white/[0.03] hover:bg-white/[0.06] text-white'
                }`}
              >
                <div className={`w-10 h-10 rounded-xl bg-gradient-to-br ${gradient} flex items-center justify-center flex-shrink-0`}>
                  <Icon size={18} className="text-white" />
                </div>
                <span className="font-bold text-sm">{label}</span>
                <ChevronRight size={14} className="ml-auto opacity-40 group-hover:opacity-100 transition-opacity" />
              </Link>
            ))}
          </div>
        </motion.div>

        {/* Recent History */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.4 }}
        >
          <div className="flex items-center justify-between mb-4">
            <h2 className={`text-lg font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
              Recent Conversions
            </h2>
            <Link
              to="/history"
              className={`text-sm font-medium transition-all ${
                settings.highContrast
                  ? 'text-yellow-400 hover:text-yellow-300'
                  : 'text-violet-400 hover:text-violet-300'
              }`}
            >
              View All
            </Link>
          </div>

          <div className={`rounded-3xl border overflow-hidden ${
            settings.highContrast ? 'border-yellow-400' : 'border-white/10'
          }`}>
            {isLoading ? (
              <div className="p-12 text-center">
                <div className="w-8 h-8 mx-auto border-2 border-violet-500/30 border-t-violet-500 rounded-full animate-spin mb-3" />
                <p className={settings.highContrast ? 'text-yellow-300' : 'text-white/40'}>Loading history...</p>
              </div>
            ) : items.length === 0 ? (
              <div className="p-12 text-center">
                <Zap size={36} className={`mx-auto mb-3 ${settings.highContrast ? 'text-yellow-400' : 'text-violet-400/40'}`} />
                <p className={`font-bold mb-1 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>No conversions yet</p>
                <p className={`text-sm mb-4 ${settings.highContrast ? 'text-yellow-200' : 'text-white/40'}`}>Start converting to see your history here</p>
                <Link
                  to="/text-to-braille"
                  className={`inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold ${
                    settings.highContrast
                      ? 'bg-yellow-400 text-black'
                      : 'bg-violet-500/20 text-violet-300 border border-violet-500/30'
                  }`}
                >
                  Start Converting
                </Link>
              </div>
            ) : (
              <div className="divide-y divide-white/5">
                {items.slice(0, 8).map((item, i) => {
                  const cfg = typeConfig[item.conversion_type] || typeConfig.text_to_braille
                  const Icon = cfg.icon
                  return (
                    <motion.div
                      key={item.id}
                      initial={{ opacity: 0 }}
                      animate={{ opacity: 1 }}
                      transition={{ delay: i * 0.05 }}
                      className={`flex items-center gap-4 px-5 py-4 transition-all ${
                        settings.highContrast
                          ? 'hover:bg-yellow-400/10'
                          : 'hover:bg-white/5'
                      }`}
                    >
                      <div className={`w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ${
                        settings.highContrast ? 'bg-yellow-400/20' : 'bg-white/5'
                      }`}>
                        <Icon size={16} className={settings.highContrast ? 'text-yellow-400' : cfg.color} />
                      </div>

                      <div className="flex-1 min-w-0">
                        <div className={`text-xs font-bold mb-0.5 ${settings.highContrast ? 'text-yellow-400' : cfg.color}`}>
                          {cfg.label}
                        </div>
                        <div className={`text-sm truncate ${settings.highContrast ? 'text-yellow-100' : 'text-white/70'}`}>
                          {item.input_text || '(image input)'}
                        </div>
                      </div>

                      <div className={`text-xs flex-shrink-0 ${settings.highContrast ? 'text-yellow-300' : 'text-white/30'}`}>
                        {formatDate(item.created_at)}
                      </div>

                      <div className="flex gap-2 flex-shrink-0">
                        <button
                          onClick={() => toggleFavorite(item.id)}
                          className={`p-1.5 rounded-lg transition-all ${
                            item.is_favorite
                              ? 'text-yellow-400'
                              : settings.highContrast
                                ? 'text-yellow-400/40 hover:text-yellow-400'
                                : 'text-white/20 hover:text-yellow-400'
                          }`}
                          aria-label="Toggle favorite"
                        >
                          <Star size={14} className={item.is_favorite ? 'fill-current' : ''} />
                        </button>
                        <button
                          onClick={() => deleteItem(item.id)}
                          className={`p-1.5 rounded-lg transition-all ${
                            settings.highContrast
                              ? 'text-yellow-400/40 hover:text-red-400'
                              : 'text-white/20 hover:text-red-400'
                          }`}
                          aria-label="Delete"
                        >
                          <Trash2 size={14} />
                        </button>
                      </div>
                    </motion.div>
                  )
                })}
              </div>
            )}
          </div>
        </motion.div>
      </div>
    </div>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\History.tsx =====
import React, { useState } from 'react'
import { motion, AnimatePresence } from 'framer-motion'
import {
  Clock, BookOpen, Image, ArrowDownUp, Star,
  Trash2, Search, Filter, Download, AlertTriangle
} from 'lucide-react'
import { useHistory } from '../hooks/useHistory'
import { useClipboard } from '../hooks/useClipboard'
import { useAccessibility } from '../context/AccessibilityContext'
import toast from 'react-hot-toast'

const typeConfig: Record<string, { label: string; color: string; bg: string; icon: typeof BookOpen }> = {
  text_to_braille: {
    label: 'Text â†’ Braille',
    color: 'text-violet-400',
    bg: 'bg-violet-500/10 border-violet-500/20',
    icon: BookOpen,
  },
  image_to_braille: {
    label: 'Image â†’ Braille',
    color: 'text-pink-400',
    bg: 'bg-pink-500/10 border-pink-500/20',
    icon: Image,
  },
  braille_to_text: {
    label: 'Braille â†’ Text',
    color: 'text-cyan-400',
    bg: 'bg-cyan-500/10 border-cyan-500/20',
    icon: ArrowDownUp,
  },
}

type FilterType = 'all' | 'text_to_braille' | 'image_to_braille' | 'braille_to_text' | 'favorites'

export default function History() {
  const [search, setSearch] = useState('')
  const [filter, setFilter] = useState<FilterType>('all')
  const [showClearConfirm, setShowClearConfirm] = useState(false)
  const { items, isLoading, hasMore, loadMore, deleteItem, toggleFavorite, clearAll } = useHistory()
  const { copy } = useClipboard()
  const { settings } = useAccessibility()

  const filtered = items.filter(item => {
    const matchesSearch =
      item.input_text?.toLowerCase().includes(search.toLowerCase()) ||
      item.output_text?.toLowerCase().includes(search.toLowerCase()) ||
      item.braille_output?.includes(search)

    const matchesFilter =
      filter === 'all' ||
      (filter === 'favorites' ? item.is_favorite : item.conversion_type === filter)

    return matchesSearch && matchesFilter
  })

  const formatDate = (d: string) =>
    new Date(d).toLocaleDateString('en-US', {
      month: 'short', day: 'numeric', year: 'numeric',
      hour: '2-digit', minute: '2-digit',
    })

  const handleDownloadItem = (item: typeof items[0]) => {
    const content = [
      `Type: ${typeConfig[item.conversion_type]?.label}`,
      `Date: ${formatDate(item.created_at)}`,
      `Input: ${item.input_text || '(image)'}`,
      `Output: ${item.output_text || item.braille_output || ''}`,
    ].join('\n')

    const blob = new Blob([content], { type: 'text/plain' })
    const url = URL.createObjectURL(blob)
    const a = document.createElement('a')
    a.href = url
    a.download = `braille-history-${item.id}.txt`
    a.click()
    URL.revokeObjectURL(url)
    toast.success('Downloaded!')
  }

  const handleClearAll = async () => {
    await clearAll()
    setShowClearConfirm(false)
  }

  const filterButtons: { label: string; value: FilterType }[] = [
    { label: 'All', value: 'all' },
    { label: 'Text â†’ Braille', value: 'text_to_braille' },
    { label: 'Image â†’ Braille', value: 'image_to_braille' },
    { label: 'Braille â†’ Text', value: 'braille_to_text' },
    { label: 'â˜… Favorites', value: 'favorites' },
  ]

  return (
    <div className="min-h-screen py-12 px-4">
      <div className="max-w-5xl mx-auto">

        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-10"
        >
          <div>
            <div className={`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold mb-3 ${
              settings.highContrast
                ? 'bg-yellow-400 text-black'
                : 'bg-violet-500/10 border border-violet-500/20 text-violet-400'
            }`}>
              <Clock size={14} /> Conversion History
            </div>
            <h1 className={`text-4xl font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
              Your History
            </h1>
            <p className={`mt-1 ${settings.highContrast ? 'text-yellow-200' : 'text-white/50'}`}>
              {items.length} total conversion{items.length !== 1 ? 's' : ''}
            </p>
          </div>

          {items.length > 0 && (
            <button
              onClick={() => setShowClearConfirm(true)}
              className={`flex items-center gap-2 px-4 py-2.5 rounded-2xl text-sm font-bold border transition-all ${
                settings.highContrast
                  ? 'border-red-400 text-red-400 hover:bg-red-400/20'
                  : 'border-red-500/30 text-red-400 hover:bg-red-500/10 hover:border-red-500/50'
              }`}
            >
              <Trash2 size={14} /> Clear All
            </button>
          )}
        </motion.div>

        {/* Search & Filter */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.1 }}
          className="space-y-4 mb-8"
        >
          {/* Search */}
          <div className={`flex items-center gap-3 px-4 py-3 rounded-2xl border ${
            settings.highContrast
              ? 'border-yellow-400 bg-black'
              : 'border-white/10 bg-white/5'
          }`}>
            <Search size={16} className={settings.highContrast ? 'text-yellow-400' : 'text-white/30'} />
            <input
              type="text"
              value={search}
              onChange={e => setSearch(e.target.value)}
              placeholder="Search conversions..."
              className={`flex-1 bg-transparent outline-none text-sm ${
                settings.highContrast
                  ? 'text-yellow-100 placeholder:text-yellow-400/40'
                  : 'text-white placeholder:text-white/30'
              }`}
              aria-label="Search history"
            />
            {search && (
              <button
                onClick={() => setSearch('')}
                className={`text-xs px-2 py-1 rounded-lg ${
                  settings.highContrast ? 'text-yellow-400 hover:bg-yellow-400/20' : 'text-white/40 hover:text-white hover:bg-white/10'
                }`}
              >
                Clear
              </button>
            )}
          </div>

          {/* Filter tabs */}
          <div className="flex flex-wrap gap-2">
            <Filter size={14} className={`self-center ${settings.highContrast ? 'text-yellow-400' : 'text-white/30'}`} />
            {filterButtons.map(({ label, value }) => (
              <button
                key={value}
                onClick={() => setFilter(value)}
                className={`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${
                  filter === value
                    ? settings.highContrast
                      ? 'bg-yellow-400 text-black border-yellow-400'
                      : 'bg-violet-500/20 text-violet-300 border-violet-500/40'
                    : settings.highContrast
                      ? 'border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10'
                      : 'border-white/10 text-white/40 hover:text-white hover:bg-white/10'
                }`}
              >
                {label}
              </button>
            ))}
          </div>
        </motion.div>

        {/* List */}
        {isLoading && items.length === 0 ? (
          <div className="py-24 text-center">
            <div className="w-10 h-10 mx-auto border-2 border-violet-500/30 border-t-violet-500 rounded-full animate-spin mb-4" />
            <p className={settings.highContrast ? 'text-yellow-300' : 'text-white/40'}>Loading history...</p>
          </div>
        ) : filtered.length === 0 ? (
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            className="py-24 text-center"
          >
            <Clock size={48} className={`mx-auto mb-4 ${settings.highContrast ? 'text-yellow-400/30' : 'text-white/10'}`} />
            <p className={`text-lg font-black mb-2 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
              No conversions found
            </p>
            <p className={`text-sm ${settings.highContrast ? 'text-yellow-200' : 'text-white/40'}`}>
              {search ? 'Try a different search term' : 'Start converting to build your history'}
            </p>
          </motion.div>
        ) : (
          <div className="space-y-3">
            <AnimatePresence>
              {filtered.map((item, i) => {
                const cfg = typeConfig[item.conversion_type] || typeConfig.text_to_braille
                const Icon = cfg.icon

                return (
                  <motion.div
                    key={item.id}
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    exit={{ opacity: 0, x: -20, height: 0 }}
                    transition={{ delay: i * 0.03 }}
                    className={`group rounded-2xl border p-5 transition-all ${
                      settings.highContrast
                        ? 'border-yellow-400 bg-black hover:bg-yellow-400/5'
                        : 'border-white/10 bg-white/[0.03] hover:bg-white/[0.06] hover:border-white/20'
                    }`}
                  >
                    <div className="flex items-start gap-4">
                      {/* Icon */}
                      <div className={`w-10 h-10 rounded-xl border flex items-center justify-center flex-shrink-0 ${
                        settings.highContrast ? 'bg-yellow-400/20 border-yellow-400' : cfg.bg
                      }`}>
                        <Icon size={16} className={settings.highContrast ? 'text-yellow-400' : cfg.color} />
                      </div>

                      {/* Content */}
                      <div className="flex-1 min-w-0">
                        <div className="flex flex-wrap items-center gap-2 mb-2">
                          <span className={`text-xs font-bold ${settings.highContrast ? 'text-yellow-400' : cfg.color}`}>
                            {cfg.label}
                          </span>
                          <span className={`text-xs ${settings.highContrast ? 'text-yellow-300' : 'text-white/30'}`}>
                            {formatDate(item.created_at)}
                          </span>
                          {item.processing_time && (
                            <span className={`text-xs px-2 py-0.5 rounded-full ${
                              settings.highContrast ? 'bg-yellow-400/20 text-yellow-400' : 'bg-white/5 text-white/30'
                            }`}>
                              {Math.round(item.processing_time * 1000)}ms
                            </span>
                          )}
                        </div>

                        {/* Input */}
                        {item.input_text && (
                          <p className={`text-sm truncate mb-1 ${settings.highContrast ? 'text-yellow-100' : 'text-white/70'}`}>
                            <span className={`font-bold mr-1 ${settings.highContrast ? 'text-yellow-400' : 'text-white/30'}`}>In:</span>
                            {item.input_text}
                          </p>
                        )}

                        {/* Output */}
                        {(item.braille_output || item.output_text) && (
                          <p className={`text-sm truncate font-mono ${settings.highContrast ? 'text-yellow-200' : 'text-white/50'}`}>
                            <span className={`font-sans font-bold mr-1 ${settings.highContrast ? 'text-yellow-400' : 'text-white/30'}`}>Out:</span>
                            {item.braille_output || item.output_text}
                          </p>
                        )}
                      </div>

                      {/* Actions */}
                      <div className="flex items-center gap-1 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity">
                        <button
                          onClick={() => copy(item.braille_output || item.output_text || '', 'Copied!')}
                          className={`p-2 rounded-xl transition-all ${
                            settings.highContrast
                              ? 'text-yellow-400 hover:bg-yellow-400/20'
                              : 'text-white/30 hover:text-white hover:bg-white/10'
                          }`}
                          aria-label="Copy output"
                          title="Copy"
                        >
                          <Download size={14} />
                        </button>
                        <button
                          onClick={() => handleDownloadItem(item)}
                          className={`p-2 rounded-xl transition-all ${
                            settings.highContrast
                              ? 'text-yellow-400 hover:bg-yellow-400/20'
                              : 'text-white/30 hover:text-white hover:bg-white/10'
                          }`}
                          aria-label="Download"
                          title="Download"
                        >
                          <Download size={14} />
                        </button>
                        <button
                          onClick={() => toggleFavorite(item.id)}
                          className={`p-2 rounded-xl transition-all ${
                            item.is_favorite
                              ? 'text-yellow-400'
                              : settings.highContrast
                                ? 'text-yellow-400/30 hover:text-yellow-400'
                                : 'text-white/20 hover:text-yellow-400 hover:bg-white/10'
                          }`}
                          aria-label="Toggle favorite"
                          title="Favorite"
                        >
                          <Star size={14} className={item.is_favorite ? 'fill-current' : ''} />
                        </button>
                        <button
                          onClick={() => deleteItem(item.id)}
                          className={`p-2 rounded-xl transition-all ${
                            settings.highContrast
                              ? 'text-yellow-400/30 hover:text-red-400 hover:bg-red-400/10'
                              : 'text-white/20 hover:text-red-400 hover:bg-red-500/10'
                          }`}
                          aria-label="Delete"
                          title="Delete"
                        >
                          <Trash2 size={14} />
                        </button>
                      </div>
                    </div>
                  </motion.div>
                )
              })}
            </AnimatePresence>

            {/* Load more */}
            {hasMore && (
              <div className="pt-4 text-center">
                <button
                  onClick={loadMore}
                  disabled={isLoading}
                  className={`px-6 py-3 rounded-2xl text-sm font-bold border transition-all disabled:opacity-50 ${
                    settings.highContrast
                      ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                      : 'border-white/10 text-white/50 hover:text-white hover:bg-white/10'
                  }`}
                >
                  {isLoading ? 'Loading...' : 'Load More'}
                </button>
              </div>
            )}
          </div>
        )}

        {/* Clear confirm modal */}
        <AnimatePresence>
          {showClearConfirm && (
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              className="fixed inset-0 z-50 flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm"
              onClick={() => setShowClearConfirm(false)}
            >
              <motion.div
                initial={{ scale: 0.9, opacity: 0 }}
                animate={{ scale: 1, opacity: 1 }}
                exit={{ scale: 0.9, opacity: 0 }}
                onClick={e => e.stopPropagation()}
                className={`w-full max-w-sm rounded-3xl border p-8 text-center ${
                  settings.highContrast
                    ? 'border-yellow-400 bg-black'
                    : 'border-white/10 bg-[#0d1626]'
                }`}
              >
                <div className="w-14 h-14 rounded-2xl bg-red-500/15 border border-red-500/20 flex items-center justify-center mx-auto mb-4">
                  <AlertTriangle size={24} className="text-red-400" />
                </div>
                <h3 className={`text-xl font-black mb-2 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                  Clear All History?
                </h3>
                <p className={`text-sm mb-6 ${settings.highContrast ? 'text-yellow-200' : 'text-white/50'}`}>
                  This will permanently delete all {items.length} conversions. This action cannot be undone.
                </p>
                <div className="flex gap-3">
                  <button
                    onClick={() => setShowClearConfirm(false)}
                    className={`flex-1 py-3 rounded-2xl font-bold border transition-all ${
                      settings.highContrast
                        ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                        : 'border-white/10 text-white/60 hover:bg-white/10'
                    }`}
                  >
                    Cancel
                  </button>
                  <button
                    onClick={handleClearAll}
                    className="flex-1 py-3 rounded-2xl font-bold bg-red-500 text-white hover:bg-red-600 transition-all"
                  >
                    Clear All
                  </button>
                </div>
              </motion.div>
            </motion.div>
          )}
        </AnimatePresence>
      </div>
    </div>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\Home.tsx =====
import React, { useRef } from 'react'
import { Link } from 'react-router-dom'
import { motion } from 'framer-motion'
import {
  BookOpen, Image, ArrowDownUp, Zap, Shield, Globe,
  ChevronRight, Star, Users, BarChart3, Sparkles, ArrowRight
} from 'lucide-react'
import { useAccessibility } from '../context/AccessibilityContext'

const features = [
  {
    icon: BookOpen,
    title: 'Text to Braille',
    desc: 'Convert any text into Grade 1 or Grade 2 Braille instantly with our AI engine.',
    href: '/text-to-braille',
    gradient: 'from-violet-500 to-purple-600',
    glow: 'shadow-violet-500/25',
    badge: 'Most Popular',
  },
  {
    icon: Image,
    title: 'Image to Braille',
    desc: 'Upload images containing text and get accurate Braille conversion using OCR.',
    href: '/image-to-braille',
    gradient: 'from-pink-500 to-rose-600',
    glow: 'shadow-pink-500/25',
    badge: 'AI Powered',
  },
  {
    icon: ArrowDownUp,
    title: 'Braille to Text',
    desc: 'Decode Braille unicode back into readable text in seconds.',
    href: '/braille-to-text',
    gradient: 'from-cyan-500 to-blue-600',
    glow: 'shadow-cyan-500/25',
    badge: 'Instant',
  },
]

const stats = [
  { value: '99.9%', label: 'Accuracy Rate', icon: Star },
  { value: '50K+', label: 'Conversions Done', icon: BarChart3 },
  { value: '120+', label: 'Countries Served', icon: Globe },
  { value: '10K+', label: 'Active Users', icon: Users },
]

const whyUs = [
  { icon: Zap, title: 'Lightning Fast', desc: 'Results in under 2 seconds with our optimized AI pipeline.' },
  { icon: Shield, title: 'Privacy First', desc: 'Your data is never stored or shared. Fully secure.' },
  { icon: Globe, title: 'Multi-Language', desc: 'Supports English, Spanish, French and more.' },
  { icon: Sparkles, title: 'Grade 1 & 2', desc: 'Full support for contracted and uncontracted Braille.' },
]

const fadeUp = {
  initial: { opacity: 0, y: 30 },
  whileInView: { opacity: 1, y: 0 },
  viewport: { once: true },
  transition: { duration: 0.5, ease: [0.4, 0, 0.2, 1] },
}

export default function Home() {
  const { settings } = useAccessibility()
  const featuresRef = useRef<HTMLDivElement>(null)

  return (
    <div className="min-h-screen overflow-x-hidden">

      {/* â”€â”€ Hero â”€â”€ */}
      <section className="relative min-h-[92vh] flex items-center justify-center px-4 py-20">
        {/* Background blobs */}
        {!settings.highContrast && (
          <>
            <div className="absolute top-20 left-1/4 w-96 h-96 bg-violet-600/20 rounded-full blur-[120px] pointer-events-none" />
            <div className="absolute bottom-20 right-1/4 w-96 h-96 bg-pink-600/20 rounded-full blur-[120px] pointer-events-none" />
            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-cyan-600/10 rounded-full blur-[150px] pointer-events-none" />
          </>
        )}

        <div className="relative z-10 max-w-5xl mx-auto text-center">
          {/* Badge */}
          <motion.div
            initial={{ opacity: 0, scale: 0.8 }}
            animate={{ opacity: 1, scale: 1 }}
            transition={{ duration: 0.5 }}
            className="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-violet-500/30 bg-violet-500/10 text-violet-300 text-sm font-semibold mb-8"
          >
            <Sparkles size={14} className="text-violet-400" />
            AI-Powered Braille Conversion Platform
            <span className="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse" />
          </motion.div>

          {/* Heading */}
          <motion.h1
            initial={{ opacity: 0, y: 40 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.6, delay: 0.1 }}
            className={`text-5xl sm:text-6xl md:text-7xl font-black leading-tight mb-6 ${
              settings.highContrast ? 'text-yellow-400' : ''
            }`}
          >
            {settings.highContrast ? (
              'Bridging the Gap with Braille'
            ) : (
              <>
                Bridging the Gap<br />
                <span className="gradient-text">with Braille</span>
              </>
            )}
          </motion.h1>

          <motion.p
            initial={{ opacity: 0, y: 30 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.6, delay: 0.2 }}
            className={`text-lg sm:text-xl max-w-2xl mx-auto mb-10 leading-relaxed ${
              settings.highContrast ? 'text-yellow-100' : 'text-white/60'
            }`}
          >
            Convert text, images, and Braille instantly using advanced AI.
            Making accessibility seamless for everyone, everywhere.
          </motion.p>

          {/* CTA Buttons */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5, delay: 0.3 }}
            className="flex flex-wrap gap-4 justify-center"
          >
            <Link
              to="/text-to-braille"
              className={`group flex items-center gap-2 px-8 py-4 rounded-2xl font-bold text-base transition-all duration-300 ${
                settings.highContrast
                  ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                  : 'bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-2xl hover:shadow-violet-500/40 hover:scale-105'
              }`}
            >
              Start Converting Free
              <ArrowRight size={18} className="group-hover:translate-x-1 transition-transform" />
            </Link>
            <button
              onClick={() => featuresRef.current?.scrollIntoView({ behavior: 'smooth' })}
              className={`flex items-center gap-2 px-8 py-4 rounded-2xl font-bold text-base border transition-all ${
                settings.highContrast
                  ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                  : 'border-white/15 text-white/70 hover:text-white hover:bg-white/10 hover:border-white/30'
              }`}
            >
              Explore Features
              <ChevronRight size={18} />
            </button>
          </motion.div>

          {/* Mini Stats */}
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: 0.5, duration: 0.5 }}
            className="flex flex-wrap justify-center gap-6 mt-14"
          >
            {stats.map(({ value, label, icon: Icon }) => (
              <div
                key={label}
                className={`flex items-center gap-2 text-sm ${
                  settings.highContrast ? 'text-yellow-200' : 'text-white/50'
                }`}
              >
                <Icon size={14} className={settings.highContrast ? 'text-yellow-400' : 'text-violet-400'} />
                <span className={`font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>{value}</span>
                {label}
              </div>
            ))}
          </motion.div>

          {/* Braille decoration */}
          {!settings.highContrast && (
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              transition={{ delay: 0.8, duration: 1 }}
              className="flex justify-center gap-4 mt-10 opacity-15 select-none"
            >
              {['â ƒ', 'â —', 'â ', 'â Š', 'â ‡', 'â ‡', 'â ‘'].map((c, i) => (
                <span
                  key={i}
                  className="text-4xl text-violet-300"
                  style={{ animationDelay: `${i * 0.1}s` }}
                >
                  {c}
                </span>
              ))}
            </motion.div>
          )}
        </div>
      </section>

      {/* â”€â”€ Features â”€â”€ */}
      <section ref={featuresRef} className="py-24 px-4">
        <div className="max-w-6xl mx-auto">
          <motion.div {...fadeUp} className="text-center mb-16">
            <div className={`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-sm font-semibold mb-4 ${
              settings.highContrast
                ? 'bg-yellow-400 text-black'
                : 'bg-violet-500/10 border border-violet-500/20 text-violet-400'
            }`}>
              <Zap size={13} /> Core Features
            </div>
            <h2 className={`text-4xl md:text-5xl font-black mb-4 ${
              settings.highContrast ? 'text-yellow-400' : 'text-white'
            }`}>
              Three Powerful Tools
            </h2>
            <p className={`text-lg max-w-xl mx-auto ${settings.highContrast ? 'text-yellow-100' : 'text-white/50'}`}>
              Everything you need for Braille conversion, built into one platform.
            </p>
          </motion.div>

          <div className="grid md:grid-cols-3 gap-6">
            {features.map((f, i) => {
              const Icon = f.icon
              return (
                <motion.div
                  key={f.title}
                  {...fadeUp}
                  transition={{ duration: 0.5, delay: i * 0.1 }}
                >
                  <Link
                    to={f.href}
                    className={`group block h-full p-7 rounded-3xl border transition-all duration-300 relative overflow-hidden ${
                      settings.highContrast
                        ? 'border-yellow-400 hover:bg-yellow-400/10'
                        : `border-white/10 hover:border-white/20 bg-white/[0.03] hover:bg-white/[0.06] hover:shadow-2xl hover:${f.glow}`
                    }`}
                  >
                    {!settings.highContrast && (
                      <div className={`absolute inset-0 bg-gradient-to-br ${f.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-500`} />
                    )}

                    {f.badge && (
                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold mb-4 ${
                        settings.highContrast
                          ? 'bg-yellow-400 text-black'
                          : `bg-gradient-to-r ${f.gradient} text-white`
                      }`}>
                        {f.badge}
                      </span>
                    )}

                    <div className={`w-14 h-14 rounded-2xl bg-gradient-to-br ${f.gradient} flex items-center justify-center mb-5 shadow-lg group-hover:scale-110 transition-transform duration-300`}>
                      <Icon size={26} className="text-white" />
                    </div>

                    <h3 className={`text-xl font-black mb-3 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                      {f.title}
                    </h3>
                    <p className={`text-sm leading-relaxed mb-5 ${settings.highContrast ? 'text-yellow-100' : 'text-white/50'}`}>
                      {f.desc}
                    </p>

                    <div className={`flex items-center gap-2 text-sm font-semibold group-hover:gap-3 transition-all ${
                      settings.highContrast ? 'text-yellow-400' : 'text-violet-400'
                    }`}>
                      Try Now <ArrowRight size={14} />
                    </div>
                  </Link>
                </motion.div>
              )
            })}
          </div>
        </div>
      </section>

      {/* â”€â”€ Why BrailleAI â”€â”€ */}
      <section className="py-24 px-4">
        <div className="max-w-6xl mx-auto">
          <motion.div {...fadeUp} className="text-center mb-16">
            <h2 className={`text-4xl md:text-5xl font-black mb-4 ${
              settings.highContrast ? 'text-yellow-400' : 'text-white'
            }`}>
              Why Choose BrailleAI?
            </h2>
            <p className={`text-lg max-w-xl mx-auto ${settings.highContrast ? 'text-yellow-100' : 'text-white/50'}`}>
              Built for speed, accuracy, and accessibility.
            </p>
          </motion.div>

          <div className="grid sm:grid-cols-2 lg:grid-cols-4 gap-5">
            {whyUs.map((item, i) => {
              const Icon = item.icon
              return (
                <motion.div
                  key={item.title}
                  {...fadeUp}
                  transition={{ duration: 0.4, delay: i * 0.1 }}
                  className={`p-6 rounded-2xl border transition-all ${
                    settings.highContrast
                      ? 'border-yellow-400 bg-yellow-400/5'
                      : 'border-white/10 bg-white/[0.03] hover:bg-white/[0.06]'
                  }`}
                >
                  <div className="w-12 h-12 rounded-xl bg-violet-500/15 border border-violet-500/20 flex items-center justify-center mb-4">
                    <Icon size={22} className={settings.highContrast ? 'text-yellow-400' : 'text-violet-400'} />
                  </div>
                  <h4 className={`font-black text-base mb-2 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                    {item.title}
                  </h4>
                  <p className={`text-sm leading-relaxed ${settings.highContrast ? 'text-yellow-100' : 'text-white/50'}`}>
                    {item.desc}
                  </p>
                </motion.div>
              )
            })}
          </div>
        </div>
      </section>

      {/* â”€â”€ CTA Banner â”€â”€ */}
      <section className="py-20 px-4">
        <div className="max-w-4xl mx-auto">
          <motion.div
            {...fadeUp}
            className={`relative rounded-3xl p-10 md:p-16 text-center overflow-hidden ${
              settings.highContrast
                ? 'border-4 border-yellow-400 bg-black'
                : 'border border-white/10'
            }`}
          >
            {!settings.highContrast && (
              <>
                <div className="absolute inset-0 bg-gradient-to-br from-violet-600/20 via-pink-600/10 to-cyan-600/20" />
                <div className="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-violet-500/50 to-transparent" />
              </>
            )}
            <div className="relative z-10">
              <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-violet-500/30">
                <Zap size={28} className="text-white" />
              </div>
              <h2 className={`text-4xl md:text-5xl font-black mb-4 ${
                settings.highContrast ? 'text-yellow-400' : 'text-white'
              }`}>
                Start for Free Today
              </h2>
              <p className={`text-lg mb-8 max-w-xl mx-auto ${settings.highContrast ? 'text-yellow-100' : 'text-white/60'}`}>
                No credit card required. Instant access. Join thousands making Braille accessible.
              </p>
              <div className="flex flex-wrap gap-4 justify-center">
                <Link
                  to="/register"
                  className={`group flex items-center gap-2 px-8 py-4 rounded-2xl font-bold text-base transition-all ${
                    settings.highContrast
                      ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                      : 'bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-2xl hover:shadow-violet-500/40 hover:scale-105'
                  }`}
                >
                  Create Free Account
                  <ArrowRight size={18} className="group-hover:translate-x-1 transition-transform" />
                </Link>
                <Link
                  to="/text-to-braille"
                  className={`flex items-center gap-2 px-8 py-4 rounded-2xl font-bold text-base border transition-all ${
                    settings.highContrast
                      ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                      : 'border-white/15 text-white/70 hover:text-white hover:bg-white/10'
                  }`}
                >
                  Try Without Account
                </Link>
              </div>
            </div>
          </motion.div>
        </div>
      </section>
    </div>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\ImageToBraille.tsx =====
import React, { useState, useRef, useCallback } from 'react'
import { motion, AnimatePresence } from 'framer-motion'
import { Image, Upload, X, Copy, Download, Zap, FileImage } from 'lucide-react'
import { useImageToBraille } from '../hooks/useConversion'
import { useClipboard } from '../hooks/useClipboard'
import { useAccessibility } from '../context/AccessibilityContext'

export default function ImageToBraille() {
  const [file, setFile] = useState<File | null>(null)
  const [preview, setPreview] = useState<string | null>(null)
  const [isDragging, setIsDragging] = useState(false)
  const [grade, setGrade] = useState<1 | 2>(1)
  const fileInputRef = useRef<HTMLInputElement>(null)
  const { result, isLoading, error, progress, convert, reset } = useImageToBraille()
  const { copy, copied } = useClipboard()
  const { settings } = useAccessibility()

  const handleFile = useCallback((f: File) => {
    setFile(f)
    reset()
    const reader = new FileReader()
    reader.onload = e => setPreview(e.target?.result as string)
    reader.readAsDataURL(f)
  }, [reset])

  const onDrop = useCallback((e: React.DragEvent) => {
    e.preventDefault()
    setIsDragging(false)
    const f = e.dataTransfer.files[0]
    if (f) handleFile(f)
  }, [handleFile])

  const handleRemove = () => {
    setFile(null)
    setPreview(null)
    reset()
    if (fileInputRef.current) fileInputRef.current.value = ''
  }

  const handleConvert = () => {
    if (file) convert(file, { grade })
  }

  const handleDownload = () => {
    if (!result?.braille) return
    const blob = new Blob([result.braille], { type: 'text/plain' })
    const url = URL.createObjectURL(blob)
    const a = document.createElement('a')
    a.href = url
    a.download = 'image-braille-output.txt'
    a.click()
    URL.revokeObjectURL(url)
  }

  return (
    <div className="min-h-screen py-12 px-4">
      <div className="max-w-5xl mx-auto">

        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center mb-12"
        >
          <div className={`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold mb-4 ${
            settings.highContrast
              ? 'bg-yellow-400 text-black'
              : 'bg-pink-500/10 border border-pink-500/20 text-pink-400'
          }`}>
            <Image size={14} /> Image to Braille
          </div>
          <h1 className={`text-4xl md:text-5xl font-black mb-3 ${
            settings.highContrast ? 'text-yellow-400' : 'text-white'
          }`}>
            Convert Image to Braille
          </h1>
          <p className={`text-lg ${settings.highContrast ? 'text-yellow-100' : 'text-white/50'}`}>
            Upload an image with text â€” our AI will extract and convert it
          </p>
        </motion.div>

        <div className="grid lg:grid-cols-2 gap-6">

          {/* Upload Panel */}
          <motion.div
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.1 }}
            className={`rounded-3xl border p-6 ${
              settings.highContrast
                ? 'border-yellow-400 bg-black'
                : 'border-white/10 bg-white/[0.03]'
            }`}
          >
            <h2 className={`font-bold text-sm uppercase tracking-widest mb-4 ${
              settings.highContrast ? 'text-yellow-400' : 'text-white/40'
            }`}>Upload Image</h2>

            {/* Drop zone */}
            {!preview ? (
              <div
                onDragOver={e => { e.preventDefault(); setIsDragging(true) }}
                onDragLeave={() => setIsDragging(false)}
                onDrop={onDrop}
                onClick={() => fileInputRef.current?.click()}
                className={`relative border-2 border-dashed rounded-2xl p-12 text-center cursor-pointer transition-all ${
                  isDragging
                    ? settings.highContrast
                      ? 'border-yellow-400 bg-yellow-400/20'
                      : 'border-pink-500 bg-pink-500/10'
                    : settings.highContrast
                      ? 'border-yellow-400/40 hover:border-yellow-400 hover:bg-yellow-400/10'
                      : 'border-white/10 hover:border-white/30 hover:bg-white/5'
                }`}
              >
                <input
                  ref={fileInputRef}
                  type="file"
                  accept="image/*"
                  className="hidden"
                  onChange={e => { if (e.target.files?.[0]) handleFile(e.target.files[0]) }}
                />
                <div className={`w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 ${
                  settings.highContrast
                    ? 'bg-yellow-400/20 border-2 border-yellow-400'
                    : 'bg-pink-500/15 border border-pink-500/20'
                }`}>
                  <Upload size={28} className={settings.highContrast ? 'text-yellow-400' : 'text-pink-400'} />
                </div>
                <p className={`font-bold text-base mb-1 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                  {isDragging ? 'Drop it here!' : 'Drag & drop or click to upload'}
                </p>
                <p className={`text-sm ${settings.highContrast ? 'text-yellow-300' : 'text-white/40'}`}>
                  JPG, PNG, WebP, GIF Â· Max 10MB
                </p>
              </div>
            ) : (
              <div className="space-y-4">
                <div className="relative rounded-2xl overflow-hidden border border-white/10">
                  <img src={preview} alt="Preview" className="w-full max-h-64 object-contain bg-black/30" />
                  <button
                    onClick={handleRemove}
                    className="absolute top-2 right-2 w-8 h-8 rounded-full bg-red-500/80 flex items-center justify-center text-white hover:bg-red-500 transition-all"
                    aria-label="Remove image"
                  >
                    <X size={14} />
                  </button>
                </div>
                <div className={`flex items-center gap-3 p-3 rounded-xl border ${
                  settings.highContrast ? 'border-yellow-400 bg-yellow-400/10' : 'border-white/10 bg-white/5'
                }`}>
                  <FileImage size={18} className={settings.highContrast ? 'text-yellow-400' : 'text-pink-400'} />
                  <div className="flex-1 min-w-0">
                    <div className={`text-sm font-medium truncate ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                      {file?.name}
                    </div>
                    <div className={`text-xs ${settings.highContrast ? 'text-yellow-300' : 'text-white/40'}`}>
                      {file ? (file.size / 1024).toFixed(1) : 0} KB
                    </div>
                  </div>
                </div>
              </div>
            )}

            {/* Grade option */}
            <div className="mt-5">
              <label className={`text-xs font-bold uppercase tracking-widest block mb-2 ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>Braille Grade</label>
              <div className="flex gap-3">
                {([1, 2] as const).map(g => (
                  <button
                    key={g}
                    onClick={() => setGrade(g)}
                    className={`flex-1 py-2 rounded-xl text-sm font-bold border transition-all ${
                      grade === g
                        ? settings.highContrast
                          ? 'bg-yellow-400 text-black border-yellow-400'
                          : 'bg-pink-500/20 text-pink-300 border-pink-500/40'
                        : settings.highContrast
                          ? 'border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10'
                          : 'border-white/10 text-white/50 hover:bg-white/10'
                    }`}
                  >
                    Grade {g}
                  </button>
                ))}
              </div>
            </div>

            {/* Convert Button */}
            <button
              onClick={handleConvert}
              disabled={isLoading || !file}
              className={`w-full mt-5 flex items-center justify-center gap-2 py-3 rounded-2xl font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed ${
                settings.highContrast
                  ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                  : 'bg-gradient-to-r from-pink-500 to-rose-500 text-white hover:shadow-lg hover:shadow-pink-500/30 hover:scale-[1.02]'
              }`}
            >
              {isLoading ? (
                <><div className="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin" /> Processing...</>
              ) : (
                <><Zap size={16} /> Convert Image</>
              )}
            </button>

            {/* Progress */}
            {isLoading && (
              <div className="mt-3">
                <div className={`flex justify-between text-xs mb-1 ${settings.highContrast ? 'text-yellow-300' : 'text-white/40'}`}>
                  <span>Processing...</span>
                  <span>{progress}%</span>
                </div>
                <div className={`h-1.5 rounded-full overflow-hidden ${settings.highContrast ? 'bg-yellow-400/20' : 'bg-white/10'}`}>
                  <motion.div
                    className={`h-full rounded-full ${settings.highContrast ? 'bg-yellow-400' : 'bg-gradient-to-r from-pink-500 to-rose-500'}`}
                    animate={{ width: `${progress}%` }}
                    transition={{ duration: 0.3 }}
                  />
                </div>
              </div>
            )}
          </motion.div>

          {/* Output Panel */}
          <motion.div
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.2 }}
            className={`rounded-3xl border p-6 ${
              settings.highContrast
                ? 'border-yellow-400 bg-black'
                : 'border-white/10 bg-white/[0.03]'
            }`}
          >
            <div className="flex items-center justify-between mb-4">
              <h2 className={`font-bold text-sm uppercase tracking-widest ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>Output</h2>
              {result && (
                <div className="flex gap-2">
                  <button
                    onClick={() => copy(result.braille || '')}
                    className={`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-bold transition-all ${
                      settings.highContrast
                        ? 'bg-yellow-400 text-black'
                        : 'bg-white/10 text-white/70 hover:bg-white/20'
                    }`}
                  >
                    <Copy size={12} /> {copied ? 'Copied!' : 'Copy'}
                  </button>
                  <button
                    onClick={handleDownload}
                    className={`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-bold transition-all ${
                      settings.highContrast
                        ? 'border border-yellow-400 text-yellow-400'
                        : 'bg-white/10 text-white/70 hover:bg-white/20'
                    }`}
                  >
                    <Download size={12} /> Save
                  </button>
                </div>
              )}
            </div>

            {error && (
              <div className="p-4 rounded-2xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm mb-4">
                {error}
              </div>
            )}

            {result ? (
              <div className="space-y-4">
                {result.text && (
                  <div className={`p-4 rounded-2xl border ${
                    settings.highContrast ? 'border-yellow-400 bg-yellow-400/10' : 'border-white/10 bg-white/5'
                  }`}>
                    <div className={`text-xs font-bold uppercase tracking-widest mb-2 ${
                      settings.highContrast ? 'text-yellow-400' : 'text-white/30'
                    }`}>Extracted Text</div>
                    <p className={`text-sm leading-relaxed ${settings.highContrast ? 'text-yellow-100' : 'text-white/80'}`}>
                      {result.text}
                    </p>
                  </div>
                )}

                <div className={`p-5 rounded-2xl border ${
                  settings.highContrast ? 'border-yellow-400 bg-yellow-400/10' : 'border-white/10 bg-white/5'
                }`}>
                  <div className={`text-xs font-bold uppercase tracking-widest mb-2 ${
                    settings.highContrast ? 'text-yellow-400' : 'text-white/30'
                  }`}>Braille Output</div>
                  <p className={`text-3xl leading-loose tracking-widest font-mono break-all ${
                    settings.highContrast ? 'text-yellow-400' : 'text-white'
                  }`}>
                    {result.braille}
                  </p>
                </div>

                {result.confidence && (
                  <div className={`p-4 rounded-2xl border ${
                    settings.highContrast ? 'border-yellow-400' : 'border-white/10 bg-white/5'
                  }`}>
                    <div className="flex justify-between items-center mb-2">
                      <span className={`text-xs font-bold ${settings.highContrast ? 'text-yellow-400' : 'text-white/40'}`}>
                        OCR Confidence
                      </span>
                      <span className={`text-sm font-black ${settings.highContrast ? 'text-yellow-400' : 'text-emerald-400'}`}>
                        {Math.round(result.confidence * 100)}%
                      </span>
                    </div>
                    <div className={`h-2 rounded-full overflow-hidden ${settings.highContrast ? 'bg-yellow-400/20' : 'bg-white/10'}`}>
                      <div
                        className={`h-full rounded-full ${settings.highContrast ? 'bg-yellow-400' : 'bg-emerald-400'}`}
                        style={{ width: `${result.confidence * 100}%` }}
                      />
                    </div>
                  </div>
                )}
              </div>
            ) : (
              <div className={`flex flex-col items-center justify-center min-h-[300px] gap-4 ${
                settings.highContrast ? 'text-yellow-400/40' : 'text-white/20'
              }`}>
                <Image size={48} className="opacity-30" />
                <p className="text-sm">Upload an image to see results</p>
              </div>
            )}
          </motion.div>
        </div>
      </div>
    </div>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\Login.tsx =====
import React, { useState, useEffect } from 'react'
import { Link, useNavigate } from 'react-router-dom'
import { motion } from 'framer-motion'
import { Eye, EyeOff, Zap, ArrowRight, LogIn } from 'lucide-react'
import { useAuthStore } from '../hooks/useAuth'
import { useAccessibility } from '../context/AccessibilityContext'
import toast from 'react-hot-toast'

export default function Login() {
  const [form, setForm] = useState({ username: '', password: '' })
  const [showPassword, setShowPassword] = useState(false)
  const { login, isLoading, isAuthenticated, clearError } = useAuthStore()
  const { settings } = useAccessibility()
  const navigate = useNavigate()

  useEffect(() => {
    if (isAuthenticated) navigate('/dashboard')
    return () => clearError()
  }, [isAuthenticated, navigate, clearError])

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    if (!form.username || !form.password) {
      toast.error('Please fill in all fields')
      return
    }
    try {
      await login(form.username, form.password)
      toast.success('Welcome back!')
      navigate('/dashboard')
    } catch {
      // error handled in store
    }
  }

  const inputClass = `w-full px-4 py-3 rounded-2xl outline-none transition-all text-sm ${
    settings.highContrast
      ? 'bg-black border-2 border-yellow-400 text-yellow-100 placeholder:text-yellow-400/40 focus:border-yellow-300'
      : 'bg-white/5 border border-white/10 text-white placeholder:text-white/30 focus:border-violet-500/50 focus:bg-white/10'
  }`

  return (
    <div className="min-h-screen flex items-center justify-center px-4 py-16">
      {!settings.highContrast && (
        <>
          <div className="fixed top-1/4 left-1/4 w-96 h-96 bg-violet-600/20 rounded-full blur-[120px] pointer-events-none" />
          <div className="fixed bottom-1/4 right-1/4 w-96 h-96 bg-pink-600/20 rounded-full blur-[120px] pointer-events-none" />
        </>
      )}

      <motion.div
        initial={{ opacity: 0, y: 30, scale: 0.95 }}
        animate={{ opacity: 1, y: 0, scale: 1 }}
        transition={{ duration: 0.5 }}
        className={`relative w-full max-w-md rounded-3xl border p-8 ${
          settings.highContrast
            ? 'border-yellow-400 bg-black'
            : 'border-white/10 bg-white/[0.04] backdrop-blur-2xl'
        }`}
      >
        {/* Logo */}
        <div className="text-center mb-8">
          <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center mx-auto mb-4 shadow-2xl shadow-violet-500/30">
            <Zap size={28} className="text-white" />
          </div>
          <h1 className={`text-3xl font-black mb-2 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
            Welcome Back
          </h1>
          <p className={settings.highContrast ? 'text-yellow-200' : 'text-white/50'}>
            Sign in to your BrailleAI account
          </p>
        </div>

        <form onSubmit={handleSubmit} className="space-y-4">
          <div>
            <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
              settings.highContrast ? 'text-yellow-400' : 'text-white/40'
            }`}>Username</label>
            <input
              type="text"
              value={form.username}
              onChange={e => setForm(p => ({ ...p, username: e.target.value }))}
              placeholder="Enter your username"
              className={inputClass}
              aria-label="Username"
              autoComplete="username"
            />
          </div>

          <div>
            <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
              settings.highContrast ? 'text-yellow-400' : 'text-white/40'
            }`}>Password</label>
            <div className="relative">
              <input
                type={showPassword ? 'text' : 'password'}
                value={form.password}
                onChange={e => setForm(p => ({ ...p, password: e.target.value }))}
                placeholder="Enter your password"
                className={`${inputClass} pr-12`}
                aria-label="Password"
                autoComplete="current-password"
              />
              <button
                type="button"
                onClick={() => setShowPassword(!showPassword)}
                className={`absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-lg transition-all ${
                  settings.highContrast
                    ? 'text-yellow-400 hover:bg-yellow-400/20'
                    : 'text-white/40 hover:text-white hover:bg-white/10'
                }`}
                aria-label={showPassword ? 'Hide password' : 'Show password'}
              >
                {showPassword ? <EyeOff size={16} /> : <Eye size={16} />}
              </button>
            </div>
          </div>

          <div className="flex justify-end">
            <Link
              to="/forgot-password"
              className={`text-xs font-medium transition-all ${
                settings.highContrast
                  ? 'text-yellow-400 hover:text-yellow-300'
                  : 'text-violet-400 hover:text-violet-300'
              }`}
            >
              Forgot password?
            </Link>
          </div>

          <button
            type="submit"
            disabled={isLoading}
            className={`w-full flex items-center justify-center gap-2 py-3.5 rounded-2xl font-bold transition-all disabled:opacity-60 disabled:cursor-not-allowed mt-2 ${
              settings.highContrast
                ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                : 'bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-2xl hover:shadow-violet-500/30 hover:scale-[1.02]'
            }`}
          >
            {isLoading ? (
              <><div className="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin" /> Signing In...</>
            ) : (
              <><LogIn size={16} /> Sign In</>
            )}
          </button>
        </form>

        <div className={`mt-8 pt-6 border-t text-center ${settings.highContrast ? 'border-yellow-400' : 'border-white/10'}`}>
          <p className={`text-sm ${settings.highContrast ? 'text-yellow-200' : 'text-white/50'}`}>
            Don't have an account?{' '}
            <Link
              to="/register"
              className={`font-bold transition-all ${
                settings.highContrast
                  ? 'text-yellow-400 hover:text-yellow-300'
                  : 'text-violet-400 hover:text-violet-300'
              }`}
            >
              Create Account <ArrowRight size={12} className="inline" />
            </Link>
          </p>
        </div>

        {/* Demo credentials hint */}
        <div className={`mt-4 p-3 rounded-2xl text-xs text-center ${
          settings.highContrast ? 'bg-yellow-400/10 text-yellow-300' : 'bg-white/5 text-white/30'
        }`}>
          ðŸ’¡ Try: username <span className="font-mono font-bold">demo</span> / password <span className="font-mono font-bold">demo123</span>
        </div>
      </motion.div>
    </div>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\NotFound.tsx =====
import React, { useEffect, useState } from 'react'
import { Link, useNavigate } from 'react-router-dom'
import { motion } from 'framer-motion'

import { useAccessibility } from '../context/AccessibilityContext'

const brailleChars = ['â ¼', 'â ™', 'â “', 'â ²', 'â ƒ', 'â —', 'â ', 'â Š', 'â ‡']

const quickLinks = [
  { to: '/text-to-braille', label: 'Text to Braille' },
  { to: '/image-to-braille', label: 'Image to Braille' },
  { to: '/braille-to-text', label: 'Braille to Text' },
  { to: '/dashboard', label: 'Dashboard' },
]

export default function NotFound() {
  const { settings } = useAccessibility()
  const navigate = useNavigate()
  const [countdown, setCountdown] = useState(10)

  useEffect(() => {
    const timer = setInterval(() => {
      setCountdown(prev => {
        if (prev <= 1) {
          clearInterval(timer)
          navigate('/')
          return 0
        }
        return prev - 1
      })
    }, 1000)
    return () => clearInterval(timer)
  }, [navigate])

  return (
    <div className="min-h-screen flex items-center justify-center px-4 py-20 relative overflow-hidden">
      {/* BG blobs */}
      {!settings.highContrast && (
        <>
          <div className="absolute top-1/4 left-1/4 w-72 h-72 bg-violet-600/15 rounded-full blur-[100px] pointer-events-none" />
          <div className="absolute bottom-1/4 right-1/4 w-72 h-72 bg-pink-600/15 rounded-full blur-[100px] pointer-events-none" />
        </>
      )}

      <div className="relative z-10 max-w-2xl mx-auto text-center">

        {/* Braille decoration */}
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ duration: 1 }}
          className="flex justify-center gap-3 mb-8"
        >
          {brailleChars.map((c, i) => (
            <motion.span
              key={i}
              initial={{ opacity: 0, y: -20 }}
              animate={{ opacity: 0.15, y: 0 }}
              transition={{ delay: i * 0.08, duration: 0.5 }}
              className={`text-5xl select-none ${settings.highContrast ? 'text-yellow-400' : 'text-violet-300'}`}
            >
              {c}
            </motion.span>
          ))}
        </motion.div>

        {/* 404 */}
        <motion.div
          initial={{ opacity: 0, scale: 0.5 }}
          animate={{ opacity: 1, scale: 1 }}
          transition={{ duration: 0.6, type: 'spring', bounce: 0.4 }}
          className="mb-6"
        >
          <div className={`text-[10rem] font-black leading-none ${
            settings.highContrast
              ? 'text-yellow-400'
              : 'bg-gradient-to-br from-violet-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent'
          }`}>
            404
          </div>
        </motion.div>

        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.3 }}
        >
          <h1 className={`text-3xl font-black mb-3 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
            Page Not Found
          </h1>
          <p className={`text-lg mb-2 ${settings.highContrast ? 'text-yellow-200' : 'text-white/60'}`}>
            Oops! This page doesn't exist or has been moved.
          </p>
          <p className={`text-sm mb-10 ${settings.highContrast ? 'text-yellow-300' : 'text-white/30'}`}>
            Redirecting to home in{' '}
            <span className={`font-black text-base ${settings.highContrast ? 'text-yellow-400' : 'text-violet-400'}`}>
              {countdown}s
            </span>
          </p>
        </motion.div>

        {/* Buttons */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.4 }}
          className="flex flex-wrap gap-4 justify-center mb-12"
        >
          <Link
            to="/"
            className={`group flex items-center gap-2 px-6 py-3.5 rounded-2xl font-bold transition-all ${
              settings.highContrast
                ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                : 'bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-xl hover:shadow-violet-500/30 hover:scale-105'
            }`}
          >
            <Home size={16} /> Go Home
          </Link>
          <button
            onClick={() => navigate(-1)}
            className={`flex items-center gap-2 px-6 py-3.5 rounded-2xl font-bold border transition-all ${
              settings.highContrast
                ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                : 'border-white/15 text-white/70 hover:text-white hover:bg-white/10'
            }`}
          >
            <ArrowLeft size={16} /> Go Back
          </button>
        </motion.div>

        {/* Quick Links */}
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ delay: 0.6 }}
        >
          <p className={`text-xs font-bold uppercase tracking-widest mb-4 ${
            settings.highContrast ? 'text-yellow-400' : 'text-white/30'
          }`}>
            Quick Links
          </p>
          <div className="flex flex-wrap justify-center gap-2">
            {quickLinks.map(({ to, label }) => (
              <Link
                key={to}
                to={to}
                className={`flex items-center gap-1.5 px-4 py-2 rounded-xl text-sm font-bold border transition-all ${
                  settings.highContrast
                    ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                    : 'border-white/10 text-white/40 hover:text-white hover:bg-white/10 hover:border-white/20'
                }`}
              >
                <Zap size={12} /> {label}
              </Link>
            ))}
          </div>
        </motion.div>
      </div>
    </div>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\Profile.tsx =====
import React, { useState } from 'react'
import { motion } from 'framer-motion'
import {
  User, Mail, Lock, Save, LogOut, Eye, EyeOff,
  Shield, Bell, Palette, Trash2, Check, AlertTriangle
} from 'lucide-react'
import { useAuthStore } from '../hooks/useAuth'
import { useAccessibility } from '../context/AccessibilityContext'
import { useHistory } from '../hooks/useHistory'
import api from '../services/api'
import toast from 'react-hot-toast'

export default function Profile() {
  const { user, logout } = useAuthStore()
  const { settings, toggleHighContrast, setFontSize, toggleReducedMotion, resetSettings } = useAccessibility()
  const { total } = useHistory()

  const [activeTab, setActiveTab] = useState<'profile' | 'security' | 'accessibility' | 'notifications'>('profile')
  const [showPassword, setShowPassword] = useState(false)
  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false)
  const [isSaving, setIsSaving] = useState(false)

  const [profileForm, setProfileForm] = useState({
    full_name: user?.full_name || '',
    email: user?.email || '',
    username: user?.username || '',
  })

  const [passwordForm, setPasswordForm] = useState({
    current_password: '',
    new_password: '',
    confirm_password: '',
  })

  const [notifications, setNotifications] = useState({
    email_updates: true,
    conversion_complete: true,
    weekly_summary: false,
  })

  const handleSaveProfile = async () => {
    setIsSaving(true)
    try {
      await api.patch('/auth/me', profileForm)
      toast.success('Profile updated successfully!')
    } catch (err: any) {
      toast.error(err.response?.data?.detail || 'Failed to update profile')
    } finally {
      setIsSaving(false)
    }
  }

  const handleChangePassword = async () => {
    if (passwordForm.new_password !== passwordForm.confirm_password) {
      toast.error('New passwords do not match')
      return
    }
    if (passwordForm.new_password.length < 8) {
      toast.error('Password must be at least 8 characters')
      return
    }
    setIsSaving(true)
    try {
      await api.post('/auth/change-password', {
        current_password: passwordForm.current_password,
        new_password: passwordForm.new_password,
      })
      toast.success('Password changed successfully!')
      setPasswordForm({ current_password: '', new_password: '', confirm_password: '' })
    } catch (err: any) {
      toast.error(err.response?.data?.detail || 'Failed to change password')
    } finally {
      setIsSaving(false)
    }
  }

  const handleDeleteAccount = async () => {
    try {
      await api.delete('/auth/me')
      toast.success('Account deleted')
      logout()
    } catch {
      toast.error('Failed to delete account')
    }
  }

  const tabs = [
    { id: 'profile', label: 'Profile', icon: User },
    { id: 'security', label: 'Security', icon: Shield },
    { id: 'accessibility', label: 'Accessibility', icon: Palette },
    { id: 'notifications', label: 'Notifications', icon: Bell },
  ] as const

  const inputClass = `w-full px-4 py-3 rounded-2xl outline-none transition-all text-sm ${
    settings.highContrast
      ? 'bg-black border-2 border-yellow-400 text-yellow-100 placeholder:text-yellow-400/40 focus:border-yellow-300'
      : 'bg-white/5 border border-white/10 text-white placeholder:text-white/30 focus:border-violet-500/50 focus:bg-white/10'
  }`

  return (
    <div className="min-h-screen py-12 px-4">
      <div className="max-w-4xl mx-auto">

        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="mb-10"
        >
          {/* Avatar */}
          <div className="flex items-center gap-5 mb-6">
            <div className="w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center text-white text-3xl font-black shadow-2xl shadow-violet-500/30 flex-shrink-0">
              {(user?.full_name || user?.username || 'U')[0].toUpperCase()}
            </div>
            <div>
              <h1 className={`text-3xl font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                {user?.full_name || user?.username}
              </h1>
              <p className={settings.highContrast ? 'text-yellow-200' : 'text-white/50'}>
                @{user?.username}
              </p>
              <div className="flex gap-4 mt-2">
                <span className={`text-xs font-bold ${settings.highContrast ? 'text-yellow-400' : 'text-violet-400'}`}>
                  {total} Conversions
                </span>
                <span className={`text-xs ${settings.highContrast ? 'text-yellow-300' : 'text-white/30'}`}>
                  Member since {user?.created_at ? new Date(user.created_at).getFullYear() : '2024'}
                </span>
              </div>
            </div>
          </div>

          {/* Tabs */}
          <div className={`flex gap-1 p-1 rounded-2xl w-fit ${
            settings.highContrast ? 'bg-yellow-400/10 border border-yellow-400' : 'bg-white/5 border border-white/10'
          }`}>
            {tabs.map(({ id, label, icon: Icon }) => (
              <button
                key={id}
                onClick={() => setActiveTab(id)}
                className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all ${
                  activeTab === id
                    ? settings.highContrast
                      ? 'bg-yellow-400 text-black'
                      : 'bg-violet-500/20 text-violet-300 border border-violet-500/30'
                    : settings.highContrast
                      ? 'text-yellow-400 hover:bg-yellow-400/10'
                      : 'text-white/40 hover:text-white hover:bg-white/10'
                }`}
              >
                <Icon size={14} />
                <span className="hidden sm:inline">{label}</span>
              </button>
            ))}
          </div>
        </motion.div>

        {/* Tab Content */}
        <motion.div
          key={activeTab}
          initial={{ opacity: 0, y: 10 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.3 }}
          className={`rounded-3xl border p-8 ${
            settings.highContrast
              ? 'border-yellow-400 bg-black'
              : 'border-white/10 bg-white/[0.03]'
          }`}
        >

          {/* â”€â”€ Profile Tab â”€â”€ */}
          {activeTab === 'profile' && (
            <div className="space-y-5">
              <h2 className={`text-xl font-black mb-6 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                Profile Information
              </h2>

              <div className="grid sm:grid-cols-2 gap-4">
                <div>
                  <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
                    settings.highContrast ? 'text-yellow-400' : 'text-white/40'
                  }`}>Full Name</label>
                  <div className="relative">
                    <User size={14} className={`absolute left-3.5 top-1/2 -translate-y-1/2 ${settings.highContrast ? 'text-yellow-400' : 'text-white/30'}`} />
                    <input
                      type="text"
                      value={profileForm.full_name}
                      onChange={e => setProfileForm(p => ({ ...p, full_name: e.target.value }))}
                      className={`${inputClass} pl-10`}
                      placeholder="Your full name"
                    />
                  </div>
                </div>

                <div>
                  <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
                    settings.highContrast ? 'text-yellow-400' : 'text-white/40'
                  }`}>Username</label>
                  <div className="relative">
                    <span className={`absolute left-3.5 top-1/2 -translate-y-1/2 text-sm font-bold ${settings.highContrast ? 'text-yellow-400' : 'text-white/30'}`}>@</span>
                    <input
                      type="text"
                      value={profileForm.username}
                      onChange={e => setProfileForm(p => ({ ...p, username: e.target.value }))}
                      className={`${inputClass} pl-8`}
                      placeholder="username"
                    />
                  </div>
                </div>
              </div>

              <div>
                <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
                  settings.highContrast ? 'text-yellow-400' : 'text-white/40'
                }`}>Email Address</label>
                <div className="relative">
                  <Mail size={14} className={`absolute left-3.5 top-1/2 -translate-y-1/2 ${settings.highContrast ? 'text-yellow-400' : 'text-white/30'}`} />
                  <input
                    type="email"
                    value={profileForm.email}
                    onChange={e => setProfileForm(p => ({ ...p, email: e.target.value }))}
                    className={`${inputClass} pl-10`}
                    placeholder="your@email.com"
                  />
                </div>
              </div>

              <div className="flex gap-3 pt-2">
                <button
                  onClick={handleSaveProfile}
                  disabled={isSaving}
                  className={`flex items-center gap-2 px-6 py-3 rounded-2xl font-bold transition-all disabled:opacity-50 ${
                    settings.highContrast
                      ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                      : 'bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-lg hover:shadow-violet-500/30 hover:scale-[1.02]'
                  }`}
                >
                  {isSaving ? (
                    <div className="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin" />
                  ) : (
                    <Save size={14} />
                  )}
                  Save Changes
                </button>
                <button
                  onClick={() => logout()}
                  className={`flex items-center gap-2 px-6 py-3 rounded-2xl font-bold border transition-all ${
                    settings.highContrast
                      ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                      : 'border-white/10 text-white/60 hover:text-white hover:bg-white/10'
                  }`}
                >
                  <LogOut size={14} /> Sign Out
                </button>
              </div>
            </div>
          )}

          {/* â”€â”€ Security Tab â”€â”€ */}
          {activeTab === 'security' && (
            <div className="space-y-6">
              <h2 className={`text-xl font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                Security Settings
              </h2>

              <div className="space-y-4">
                <div>
                  <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
                    settings.highContrast ? 'text-yellow-400' : 'text-white/40'
                  }`}>Current Password</label>
                  <div className="relative">
                    <Lock size={14} className={`absolute left-3.5 top-1/2 -translate-y-1/2 ${settings.highContrast ? 'text-yellow-400' : 'text-white/30'}`} />
                    <input
                      type={showPassword ? 'text' : 'password'}
                      value={passwordForm.current_password}
                      onChange={e => setPasswordForm(p => ({ ...p, current_password: e.target.value }))}
                      className={`${inputClass} pl-10 pr-12`}
                      placeholder="Current password"
                    />
                    <button
                      type="button"
                      onClick={() => setShowPassword(!showPassword)}
                      className={`absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-lg ${
                        settings.highContrast ? 'text-yellow-400' : 'text-white/30 hover:text-white'
                      }`}
                    >
                      {showPassword ? <EyeOff size={14} /> : <Eye size={14} />}
                    </button>
                  </div>
                </div>

                <div>
                  <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
                    settings.highContrast ? 'text-yellow-400' : 'text-white/40'
                  }`}>New Password</label>
                  <input
                    type={showPassword ? 'text' : 'password'}
                    value={passwordForm.new_password}
                    onChange={e => setPasswordForm(p => ({ ...p, new_password: e.target.value }))}
                    className={inputClass}
                    placeholder="New password (min 8 chars)"
                  />
                </div>

                <div>
                  <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
                    settings.highContrast ? 'text-yellow-400' : 'text-white/40'
                  }`}>Confirm New Password</label>
                  <input
                    type={showPassword ? 'text' : 'password'}
                    value={passwordForm.confirm_password}
                    onChange={e => setPasswordForm(p => ({ ...p, confirm_password: e.target.value }))}
                    className={`${inputClass} ${
                      passwordForm.confirm_password && passwordForm.confirm_password !== passwordForm.new_password
                        ? 'border-red-500/50' : ''
                    }`}
                    placeholder="Repeat new password"
                  />
                  {passwordForm.confirm_password && passwordForm.confirm_password !== passwordForm.new_password && (
                    <p className="text-xs text-red-400 mt-1">Passwords do not match</p>
                  )}
                </div>

                <button
                  onClick={handleChangePassword}
                  disabled={isSaving || !passwordForm.current_password || !passwordForm.new_password}
                  className={`flex items-center gap-2 px-6 py-3 rounded-2xl font-bold transition-all disabled:opacity-50 ${
                    settings.highContrast
                      ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                      : 'bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-lg hover:shadow-violet-500/30'
                  }`}
                >
                  <Lock size={14} /> Update Password
                </button>
              </div>

              {/* Danger Zone */}
              <div className={`mt-8 pt-8 border-t ${settings.highContrast ? 'border-yellow-400' : 'border-white/10'}`}>
                <h3 className="text-red-400 font-black text-base mb-4 flex items-center gap-2">
                  <AlertTriangle size={16} /> Danger Zone
                </h3>
                <div className={`p-5 rounded-2xl border ${
                  settings.highContrast ? 'border-red-400 bg-red-400/5' : 'border-red-500/20 bg-red-500/5'
                }`}>
                  <p className={`text-sm mb-4 ${settings.highContrast ? 'text-yellow-200' : 'text-white/60'}`}>
                    Permanently delete your account and all associated data. This cannot be undone.
                  </p>
                  {!showDeleteConfirm ? (
                    <button
                      onClick={() => setShowDeleteConfirm(true)}
                      className="flex items-center gap-2 px-4 py-2.5 rounded-xl font-bold text-sm border border-red-500/30 text-red-400 hover:bg-red-500/10 transition-all"
                    >
                      <Trash2 size={14} /> Delete My Account
                    </button>
                  ) : (
                    <div className="space-y-3">
                      <p className="text-red-400 text-sm font-bold">Are you absolutely sure?</p>
                      <div className="flex gap-3">
                        <button
                          onClick={() => setShowDeleteConfirm(false)}
                          className={`flex-1 py-2 rounded-xl font-bold border text-sm ${
                            settings.highContrast
                              ? 'border-yellow-400 text-yellow-400'
                              : 'border-white/10 text-white/60 hover:bg-white/10'
                          }`}
                        >
                          Cancel
                        </button>
                        <button
                          onClick={handleDeleteAccount}
                          className="flex-1 py-2 rounded-xl font-bold text-sm bg-red-500 text-white hover:bg-red-600 transition-all"
                        >
                          Yes, Delete Account
                        </button>
                      </div>
                    </div>
                  )}
                </div>
              </div>
            </div>
          )}

          {/* â”€â”€ Accessibility Tab â”€â”€ */}
          {activeTab === 'accessibility' && (
            <div className="space-y-6">
              <h2 className={`text-xl font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                Accessibility Settings
              </h2>

              {[
                {
                  label: 'High Contrast Mode',
                  desc: 'Increase contrast for better visibility',
                  value: settings.highContrast,
                  toggle: toggleHighContrast,
                },
                {
                  label: 'Reduced Motion',
                  desc: 'Minimize animations and transitions',
                  value: settings.reducedMotion,
                  toggle: toggleReducedMotion,
                },
              ].map(({ label, desc, value, toggle }) => (
                <div key={label} className={`flex items-center justify-between p-5 rounded-2xl border ${
                  settings.highContrast ? 'border-yellow-400 bg-yellow-400/5' : 'border-white/10 bg-white/5'
                }`}>
                  <div>
                    <div className={`font-bold text-sm ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>{label}</div>
                    <div className={`text-xs mt-0.5 ${settings.highContrast ? 'text-yellow-200' : 'text-white/40'}`}>{desc}</div>
                  </div>
                  <button
                    onClick={toggle}
                    className={`relative w-12 h-6 rounded-full transition-all ${
                      value
                        ? settings.highContrast ? 'bg-yellow-400' : 'bg-violet-500'
                        : settings.highContrast ? 'bg-yellow-400/20' : 'bg-white/10'
                    }`}
                    role="switch"
                    aria-checked={value}
                  >
                    <span className={`absolute top-1 w-4 h-4 rounded-full transition-all ${
                      value
                        ? 'left-7 bg-white'
                        : `left-1 ${settings.highContrast ? 'bg-yellow-400' : 'bg-white/40'}`
                    }`} />
                  </button>
                </div>
              ))}

              {/* Font Size */}
              <div className={`p-5 rounded-2xl border ${
                settings.highContrast ? 'border-yellow-400 bg-yellow-400/5' : 'border-white/10 bg-white/5'
              }`}>
                <div className="flex items-center justify-between mb-3">
                  <div>
                    <div className={`font-bold text-sm ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>Font Size</div>
                    <div className={`text-xs ${settings.highContrast ? 'text-yellow-200' : 'text-white/40'}`}>Adjust text size (80% â€“ 150%)</div>
                  </div>
                  <span className={`text-lg font-black ${settings.highContrast ? 'text-yellow-400' : 'text-violet-400'}`}>
                    {settings.fontSize}%
                  </span>
                </div>
                <input
                  type="range"
                  min={80}
                  max={150}
                  step={10}
                  value={settings.fontSize}
                  onChange={e => setFontSize(Number(e.target.value))}
                  className="w-full accent-violet-500"
                  aria-label="Font size"
                />
                <div className="flex justify-between text-xs mt-1 text-white/30">
                  <span>Small</span><span>Default</span><span>Large</span>
                </div>
              </div>

              <button
                onClick={resetSettings}
                className={`flex items-center gap-2 px-4 py-2.5 rounded-xl font-bold text-sm border transition-all ${
                  settings.highContrast
                    ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                    : 'border-white/10 text-white/50 hover:text-white hover:bg-white/10'
                }`}
              >
                <RotateCcw size={14} /> Reset to Defaults
              </button>
            </div>
          )}

          {/* â”€â”€ Notifications Tab â”€â”€ */}
          {activeTab === 'notifications' && (
            <div className="space-y-5">
              <h2 className={`text-xl font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                Notification Preferences
              </h2>

              {[
                { key: 'email_updates', label: 'Product Updates', desc: 'New features and improvements' },
                { key: 'conversion_complete', label: 'Conversion Alerts', desc: 'When large conversions finish' },
                { key: 'weekly_summary', label: 'Weekly Summary', desc: 'Your weekly usage statistics' },
              ].map(({ key, label, desc }) => (
                <div
                  key={key}
                  className={`flex items-center justify-between p-5 rounded-2xl border ${
                    settings.highContrast ? 'border-yellow-400 bg-yellow-400/5' : 'border-white/10 bg-white/5'
                  }`}
                >
                  <div>
                    <div className={`font-bold text-sm ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>{label}</div>
                    <div className={`text-xs mt-0.5 ${settings.highContrast ? 'text-yellow-200' : 'text-white/40'}`}>{desc}</div>
                  </div>
                  <button
                    onClick={() => setNotifications(p => ({ ...p, [key]: !p[key as keyof typeof p] }))}
                    className={`relative w-12 h-6 rounded-full transition-all ${
                      notifications[key as keyof typeof notifications]
                        ? settings.highContrast ? 'bg-yellow-400' : 'bg-violet-500'
                        : settings.highContrast ? 'bg-yellow-400/20' : 'bg-white/10'
                    }`}
                    role="switch"
                    aria-checked={notifications[key as keyof typeof notifications]}
                  >
                    <span className={`absolute top-1 w-4 h-4 rounded-full transition-all ${
                      notifications[key as keyof typeof notifications]
                        ? 'left-7 bg-white'
                        : `left-1 ${settings.highContrast ? 'bg-yellow-400' : 'bg-white/40'}`
                    }`} />
                  </button>
                </div>
              ))}

              <button
                onClick={() => toast.success('Notification preferences saved!')}
                className={`flex items-center gap-2 px-6 py-3 rounded-2xl font-bold transition-all ${
                  settings.highContrast
                    ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                    : 'bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-lg hover:shadow-violet-500/30'
                }`}
              >
                <Check size={14} /> Save Preferences
              </button>
            </div>
          )}
        </motion.div>
      </div>
    </div>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\Register.tsx =====
import React, { useState, useEffect } from 'react'
import { Link, useNavigate } from 'react-router-dom'
import { motion } from 'framer-motion'
import { Eye, EyeOff, Zap, ArrowRight, UserPlus, Check } from 'lucide-react'
import { useAuthStore } from '../hooks/useAuth'
import { useAccessibility } from '../context/AccessibilityContext'
import toast from 'react-hot-toast'

const passwordChecks = [
  { label: 'At least 8 characters', test: (p: string) => p.length >= 8 },
  { label: 'Contains uppercase', test: (p: string) => /[A-Z]/.test(p) },
  { label: 'Contains number', test: (p: string) => /\d/.test(p) },
]

export default function Register() {
  const [form, setForm] = useState({ username: '', email: '', full_name: '', password: '', confirm: '' })
  const [showPassword, setShowPassword] = useState(false)
  const { register, isLoading, isAuthenticated, clearError } = useAuthStore()
  const { settings } = useAccessibility()
  const navigate = useNavigate()

  useEffect(() => {
    if (isAuthenticated) navigate('/dashboard')
    return () => clearError()
  }, [isAuthenticated, navigate, clearError])

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    if (!form.username || !form.email || !form.password) {
      toast.error('Please fill in all required fields')
      return
    }
    if (form.password !== form.confirm) {
      toast.error('Passwords do not match')
      return
    }
    if (form.password.length < 8) {
      toast.error('Password must be at least 8 characters')
      return
    }
    try {
      await register({ username: form.username, email: form.email, password: form.password, full_name: form.full_name })
      toast.success('Account created! Welcome to BrailleAI ðŸŽ‰')
      navigate('/dashboard')
    } catch {
      // error handled in store
    }
  }

  const inputClass = `w-full px-4 py-3 rounded-2xl outline-none transition-all text-sm ${
    settings.highContrast
      ? 'bg-black border-2 border-yellow-400 text-yellow-100 placeholder:text-yellow-400/40 focus:border-yellow-300'
      : 'bg-white/5 border border-white/10 text-white placeholder:text-white/30 focus:border-violet-500/50 focus:bg-white/10'
  }`

  return (
    <div className="min-h-screen flex items-center justify-center px-4 py-16">
      {!settings.highContrast && (
        <>
          <div className="fixed top-1/4 left-1/4 w-96 h-96 bg-violet-600/20 rounded-full blur-[120px] pointer-events-none" />
          <div className="fixed bottom-1/4 right-1/4 w-96 h-96 bg-pink-600/20 rounded-full blur-[120px] pointer-events-none" />
        </>
      )}

      <motion.div
        initial={{ opacity: 0, y: 30, scale: 0.95 }}
        animate={{ opacity: 1, y: 0, scale: 1 }}
        transition={{ duration: 0.5 }}
        className={`relative w-full max-w-md rounded-3xl border p-8 ${
          settings.highContrast
            ? 'border-yellow-400 bg-black'
            : 'border-white/10 bg-white/[0.04] backdrop-blur-2xl'
        }`}
      >
        {/* Logo */}
        <div className="text-center mb-8">
          <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-pink-500 flex items-center justify-center mx-auto mb-4 shadow-2xl shadow-violet-500/30">
            <Zap size={28} className="text-white" />
          </div>
          <h1 className={`text-3xl font-black mb-2 ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
            Create Account
          </h1>
          <p className={settings.highContrast ? 'text-yellow-200' : 'text-white/50'}>
            Join BrailleAI â€” free forever
          </p>
        </div>

        <form onSubmit={handleSubmit} className="space-y-4">
          <div className="grid grid-cols-2 gap-3">
            <div>
              <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>Username *</label>
              <input
                type="text"
                value={form.username}
                onChange={e => setForm(p => ({ ...p, username: e.target.value }))}
                placeholder="johndoe"
                className={inputClass}
                aria-label="Username"
                autoComplete="username"
              />
            </div>
            <div>
              <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>Full Name</label>
              <input
                type="text"
                value={form.full_name}
                onChange={e => setForm(p => ({ ...p, full_name: e.target.value }))}
                placeholder="John Doe"
                className={inputClass}
                aria-label="Full name"
              />
            </div>
          </div>

          <div>
            <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
              settings.highContrast ? 'text-yellow-400' : 'text-white/40'
            }`}>Email *</label>
            <input
              type="email"
              value={form.email}
              onChange={e => setForm(p => ({ ...p, email: e.target.value }))}
              placeholder="john@example.com"
              className={inputClass}
              aria-label="Email"
              autoComplete="email"
            />
          </div>

          <div>
            <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
              settings.highContrast ? 'text-yellow-400' : 'text-white/40'
            }`}>Password *</label>
            <div className="relative">
              <input
                type={showPassword ? 'text' : 'password'}
                value={form.password}
                onChange={e => setForm(p => ({ ...p, password: e.target.value }))}
                placeholder="Create a strong password"
                className={`${inputClass} pr-12`}
                aria-label="Password"
                autoComplete="new-password"
              />
              <button
                type="button"
                onClick={() => setShowPassword(!showPassword)}
                className={`absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-lg transition-all ${
                  settings.highContrast
                    ? 'text-yellow-400 hover:bg-yellow-400/20'
                    : 'text-white/40 hover:text-white hover:bg-white/10'
                }`}
              >
                {showPassword ? <EyeOff size={16} /> : <Eye size={16} />}
              </button>
            </div>

            {/* Password strength */}
            {form.password && (
              <div className="mt-2 space-y-1">
                {passwordChecks.map(({ label, test }) => {
                  const passed = test(form.password)
                  return (
                    <div key={label} className={`flex items-center gap-2 text-xs ${passed ? 'text-emerald-400' : settings.highContrast ? 'text-yellow-400/50' : 'text-white/30'}`}>
                      <Check size={11} className={passed ? 'opacity-100' : 'opacity-30'} />
                      {label}
                    </div>
                  )
                })}
              </div>
            )}
          </div>

          <div>
            <label className={`block text-xs font-bold uppercase tracking-widest mb-2 ${
              settings.highContrast ? 'text-yellow-400' : 'text-white/40'
            }`}>Confirm Password *</label>
            <input
              type={showPassword ? 'text' : 'password'}
              value={form.confirm}
              onChange={e => setForm(p => ({ ...p, confirm: e.target.value }))}
              placeholder="Repeat your password"
              className={`${inputClass} ${
                form.confirm && form.confirm !== form.password
                  ? 'border-red-500/50'
                  : ''
              }`}
              aria-label="Confirm password"
              autoComplete="new-password"
            />
            {form.confirm && form.confirm !== form.password && (
              <p className="text-xs text-red-400 mt-1">Passwords do not match</p>
            )}
          </div>

          <button
            type="submit"
            disabled={isLoading}
            className={`w-full flex items-center justify-center gap-2 py-3.5 rounded-2xl font-bold transition-all disabled:opacity-60 disabled:cursor-not-allowed mt-2 ${
              settings.highContrast
                ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                : 'bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-2xl hover:shadow-violet-500/30 hover:scale-[1.02]'
            }`}
          >
            {isLoading ? (
              <><div className="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin" /> Creating Account...</>
            ) : (
              <><UserPlus size={16} /> Create Account</>
            )}
          </button>

          <p className={`text-xs text-center ${settings.highContrast ? 'text-yellow-300' : 'text-white/30'}`}>
            By signing up, you agree to our{' '}
            <Link to="#" className={settings.highContrast ? 'text-yellow-400' : 'text-violet-400'}>Terms</Link>
            {' '}and{' '}
            <Link to="#" className={settings.highContrast ? 'text-yellow-400' : 'text-violet-400'}>Privacy Policy</Link>
          </p>
        </form>

        <div className={`mt-6 pt-6 border-t text-center ${settings.highContrast ? 'border-yellow-400' : 'border-white/10'}`}>
          <p className={`text-sm ${settings.highContrast ? 'text-yellow-200' : 'text-white/50'}`}>
            Already have an account?{' '}
            <Link
              to="/login"
              className={`font-bold transition-all ${
                settings.highContrast
                  ? 'text-yellow-400 hover:text-yellow-300'
                  : 'text-violet-400 hover:text-violet-300'
              }`}
            >
              Sign In <ArrowRight size={12} className="inline" />
            </Link>
          </p>
        </div>
      </motion.div>
    </div>
  )
}


// ===== FILE: D:\Hacknight\braille-conversion-tool\frontend\src\pages\TextToBraille.tsx =====
import React, { useState } from 'react'
import { motion } from 'framer-motion'
import { BookOpen, Copy, Download, RotateCcw, Zap, ChevronDown } from 'lucide-react'
import { useTextToBraille } from '../hooks/useConversion'
import { useClipboard } from '../hooks/useClipboard'
import { useAccessibility } from '../context/AccessibilityContext'

const exampleTexts = ['Hello World', 'I love you', 'Braille is beautiful', 'The quick brown fox']

export default function TextToBraille() {
  const [text, setText] = useState('')
  const [grade, setGrade] = useState<1 | 2>(1)
  const [showOptions, setShowOptions] = useState(false)
  const { result, isLoading, error, progress, convert, reset } = useTextToBraille()
  const { copy, copied } = useClipboard()
  const { settings } = useAccessibility()

  const handleConvert = () => convert(text, { grade })

  const handleDownload = () => {
    if (!result?.braille) return
    const blob = new Blob([result.braille], { type: 'text/plain' })
    const url = URL.createObjectURL(blob)
    const a = document.createElement('a')
    a.href = url
    a.download = 'braille-output.txt'
    a.click()
    URL.revokeObjectURL(url)
  }

  const handleReset = () => {
    setText('')
    reset()
  }

  return (
    <div className="min-h-screen py-12 px-4">
      <div className="max-w-5xl mx-auto">

        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center mb-12"
        >
          <div className={`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold mb-4 ${
            settings.highContrast
              ? 'bg-yellow-400 text-black'
              : 'bg-violet-500/10 border border-violet-500/20 text-violet-400'
          }`}>
            <BookOpen size={14} /> Text to Braille
          </div>
          <h1 className={`text-4xl md:text-5xl font-black mb-3 ${
            settings.highContrast ? 'text-yellow-400' : 'text-white'
          }`}>
            Convert Text to Braille
          </h1>
          <p className={`text-lg ${settings.highContrast ? 'text-yellow-100' : 'text-white/50'}`}>
            Type or paste any text and get instant Braille output
          </p>
        </motion.div>

        <div className="grid lg:grid-cols-2 gap-6">

          {/* Input Panel */}
          <motion.div
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.1 }}
            className={`rounded-3xl border p-6 ${
              settings.highContrast
                ? 'border-yellow-400 bg-black'
                : 'border-white/10 bg-white/[0.03] backdrop-blur-sm'
            }`}
          >
            <div className="flex items-center justify-between mb-4">
              <h2 className={`font-bold text-sm uppercase tracking-widest ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>Input Text</h2>
              <span className={`text-xs ${settings.highContrast ? 'text-yellow-300' : 'text-white/30'}`}>
                {text.length} chars
              </span>
            </div>

            <textarea
              value={text}
              onChange={e => setText(e.target.value)}
              placeholder="Type or paste text here..."
              rows={8}
              className={`w-full bg-transparent resize-none outline-none text-base leading-relaxed ${
                settings.highContrast
                  ? 'text-yellow-100 placeholder:text-yellow-400/40'
                  : 'text-white placeholder:text-white/20'
              }`}
              aria-label="Text input for Braille conversion"
            />

            {/* Example chips */}
            <div className="flex flex-wrap gap-2 mt-4 pt-4 border-t border-white/10">
              <span className={`text-xs ${settings.highContrast ? 'text-yellow-300' : 'text-white/30'}`}>Examples:</span>
              {exampleTexts.map(ex => (
                <button
                  key={ex}
                  onClick={() => setText(ex)}
                  className={`text-xs px-3 py-1 rounded-full transition-all ${
                    settings.highContrast
                      ? 'bg-yellow-400/20 text-yellow-400 hover:bg-yellow-400 hover:text-black border border-yellow-400'
                      : 'bg-white/5 text-white/40 hover:text-white hover:bg-white/10 border border-white/10'
                  }`}
                >
                  {ex}
                </button>
              ))}
            </div>

            {/* Options */}
            <div className="mt-4">
              <button
                onClick={() => setShowOptions(!showOptions)}
                className={`flex items-center gap-2 text-sm font-medium transition-all ${
                  settings.highContrast ? 'text-yellow-400' : 'text-white/50 hover:text-white'
                }`}
              >
                <ChevronDown size={14} className={`transition-transform ${showOptions ? 'rotate-180' : ''}`} />
                Advanced Options
              </button>

              {showOptions && (
                <motion.div
                  initial={{ opacity: 0, height: 0 }}
                  animate={{ opacity: 1, height: 'auto' }}
                  className="mt-3 p-4 rounded-2xl border border-white/10 bg-white/5"
                >
                  <label className={`text-xs font-bold uppercase tracking-widest block mb-2 ${
                    settings.highContrast ? 'text-yellow-400' : 'text-white/40'
                  }`}>
                    Braille Grade
                  </label>
                  <div className="flex gap-3">
                    {([1, 2] as const).map(g => (
                      <button
                        key={g}
                        onClick={() => setGrade(g)}
                        className={`flex-1 py-2 rounded-xl text-sm font-bold border transition-all ${
                          grade === g
                            ? settings.highContrast
                              ? 'bg-yellow-400 text-black border-yellow-400'
                              : 'bg-violet-500/20 text-violet-300 border-violet-500/40'
                            : settings.highContrast
                              ? 'border-yellow-400/30 text-yellow-400 hover:bg-yellow-400/10'
                              : 'border-white/10 text-white/50 hover:text-white hover:bg-white/10'
                        }`}
                      >
                        Grade {g}
                        <div className={`text-xs font-normal mt-0.5 ${grade === g ? 'opacity-70' : 'opacity-50'}`}>
                          {g === 1 ? 'Uncontracted' : 'Contracted'}
                        </div>
                      </button>
                    ))}
                  </div>
                </motion.div>
              )}
            </div>

            {/* Action Buttons */}
            <div className="flex gap-3 mt-6">
              <button
                onClick={handleConvert}
                disabled={isLoading || !text.trim()}
                className={`flex-1 flex items-center justify-center gap-2 py-3 rounded-2xl font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed ${
                  settings.highContrast
                    ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                    : 'bg-gradient-to-r from-violet-500 to-pink-500 text-white hover:shadow-lg hover:shadow-violet-500/30 hover:scale-[1.02]'
                }`}
              >
                {isLoading ? (
                  <>
                    <div className="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin" />
                    Converting...
                  </>
                ) : (
                  <><Zap size={16} /> Convert</>
                )}
              </button>
              <button
                onClick={handleReset}
                className={`px-4 py-3 rounded-2xl border transition-all ${
                  settings.highContrast
                    ? 'border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                    : 'border-white/10 text-white/50 hover:text-white hover:bg-white/10'
                }`}
                aria-label="Reset"
              >
                <RotateCcw size={16} />
              </button>
            </div>

            {/* Progress */}
            {isLoading && (
              <div className="mt-4">
                <div className={`h-1.5 rounded-full overflow-hidden ${settings.highContrast ? 'bg-yellow-400/20' : 'bg-white/10'}`}>
                  <motion.div
                    className={`h-full rounded-full ${settings.highContrast ? 'bg-yellow-400' : 'bg-gradient-to-r from-violet-500 to-pink-500'}`}
                    initial={{ width: 0 }}
                    animate={{ width: `${progress}%` }}
                    transition={{ duration: 0.3 }}
                  />
                </div>
              </div>
            )}
          </motion.div>

          {/* Output Panel */}
          <motion.div
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.2 }}
            className={`rounded-3xl border p-6 ${
              settings.highContrast
                ? 'border-yellow-400 bg-black'
                : 'border-white/10 bg-white/[0.03] backdrop-blur-sm'
            }`}
          >
            <div className="flex items-center justify-between mb-4">
              <h2 className={`font-bold text-sm uppercase tracking-widest ${
                settings.highContrast ? 'text-yellow-400' : 'text-white/40'
              }`}>Braille Output</h2>

              {result && (
                <div className="flex gap-2">
                  <button
                    onClick={() => copy(result.braille || '')}
                    className={`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-bold transition-all ${
                      settings.highContrast
                        ? 'bg-yellow-400 text-black hover:bg-yellow-300'
                        : 'bg-white/10 text-white/70 hover:bg-white/20 hover:text-white'
                    }`}
                  >
                    <Copy size={12} /> {copied ? 'Copied!' : 'Copy'}
                  </button>
                  <button
                    onClick={handleDownload}
                    className={`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-bold transition-all ${
                      settings.highContrast
                        ? 'border border-yellow-400 text-yellow-400 hover:bg-yellow-400/20'
                        : 'bg-white/10 text-white/70 hover:bg-white/20 hover:text-white'
                    }`}
                  >
                    <Download size={12} /> Save
                  </button>
                </div>
              )}
            </div>

            {error && (
              <div className="p-4 rounded-2xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm mb-4">
                {error}
              </div>
            )}

            {result ? (
              <div className="space-y-4">
                {/* Braille unicode display */}
                <div className={`p-5 rounded-2xl min-h-[120px] ${
                  settings.highContrast ? 'bg-yellow-400/10 border border-yellow-400' : 'bg-white/5 border border-white/10'
                }`}>
                  <p className={`text-3xl leading-loose tracking-widest font-mono break-all ${
                    settings.highContrast ? 'text-yellow-400' : 'text-white'
                  }`}>
                    {result.braille}
                  </p>
                </div>

                {/* Stats row */}
                <div className="grid grid-cols-3 gap-3">
                  {[
                    { label: 'Characters', value: result.character_count || text.length },
                    { label: 'Words', value: result.word_count || text.split(' ').length },
                    { label: 'Time (ms)', value: result.processing_time ? Math.round(result.processing_time * 1000) : 'â€“' },
                  ].map(s => (
                    <div
                      key={s.label}
                      className={`p-3 rounded-2xl text-center border ${
                        settings.highContrast
                          ? 'border-yellow-400 bg-yellow-400/10'
                          : 'border-white/10 bg-white/5'
                      }`}
                    >
                      <div className={`text-xl font-black ${settings.highContrast ? 'text-yellow-400' : 'text-white'}`}>
                        {s.value}
                      </div>
                      <div className={`text-xs mt-1 ${settings.highContrast ? 'text-yellow-300' : 'text-white/40'}`}>
                        {s.label}
                      </div>
                    </div>
                  ))}
                </div>

                {/* Dot notation */}
                {result.dots && (
                  <div className={`p-4 rounded-2xl border ${
                    settings.highContrast ? 'border-yellow-400' : 'border-white/10 bg-white/5'
                  }`}>
                    <div className={`text-xs font-bold uppercase tracking-widest mb-2 ${
                      settings.highContrast ? 'text-yellow-400' : 'text-white/30'
                    }`}>Dot Notation</div>
                    <p className={`text-sm font-mono break-all ${settings.highContrast ? 'text-yellow-200' : 'text-white/60'}`}>
                      {result.dots}
                    </p>
                  </div>
                )}
              </div>
            ) : (
              <div className={`flex flex-col items-center justify-center min-h-[250px] gap-4 ${
                settings.highContrast ? 'text-yellow-400/40' : 'text-white/20'
              }`}>
                <div className="text-6xl opacity-30 select-none">â ƒâ —â </div>
                <p className="text-sm">Braille output will appear here</p>
              </div>
            )}
          </motion.div>
        </div>
      </div>
    </div>
  )
}


